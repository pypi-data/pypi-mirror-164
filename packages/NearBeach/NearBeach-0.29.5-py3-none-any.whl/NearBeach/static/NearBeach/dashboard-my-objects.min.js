"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[6371],{3744:(t,e)=>{e.Z=(t,e)=>{const r=t.__vccOpts||t;for(const[t,s]of e)r[t]=s;return r}},5686:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var s=r(6252);const a={class:"card"},o={class:"card-body"},l=(0,s._)("h1",null,"My Current Objects",-1),i=(0,s._)("hr",null,null,-1),n={key:0,class:"alert alert-dark"},u={key:4,class:"alert alert-primary"};var d=r(3058),c=r(7742);const p=r(9669),b={name:"DashboardMyObjects",components:{RenderObjectTable:c.Z},props:{rootUrl:{type:String,default:"/"}},data:()=>({isLoaded:!1,objectResults:{requirement:[],project:[],task:[]},projectVariables:{header:"Projects",prefix:"Pro",id:"project_id",title:"project_name",status:"project_status",end_date:"project_end_date"},requirementVariables:{header:"Your Requirements",prefix:"Req",id:"requirement_id",title:"requirement_title",status:"requirement_status__requirement_status",end_date:""},taskVariables:{header:"Tasks",prefix:"Task",id:"task_id",title:"task_short_description",status:"task_status",end_date:"task_end_date"}}),mixins:[d.Z],methods:{getMyObjects:function(){p.post(`${this.rootUrl}dashboard/get/my_objects/`).then((t=>{this.objectResults=t.data,this.isLoaded=!0})).catch((t=>{this.showErrorModal(t,"Dashboard My Objects")}))}},computed:{countObjects:function(){return this.objectResults.requirement.length+this.objectResults.project.length+this.objectResults.task.length}},mounted(){this.getMyObjects()}},h=(0,r(3744).Z)(b,[["render",function(t,e,r,d,c,p){const b=(0,s.up)("render-object-table");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",o,[l,i,c.isLoaded?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",n," Still obtaining your assigned jobs. ")),(0,s.kq)(" Requirements "),c.objectResults.requirement.length>0?((0,s.wg)(),(0,s.j4)(b,{key:1,"search-results":c.objectResults.requirement,"import-variables":c.requirementVariables,destination:"requirement","root-url":r.rootUrl},null,8,["search-results","import-variables","root-url"])):(0,s.kq)("v-if",!0),(0,s.kq)(" Projects "),c.objectResults.project.length>0?((0,s.wg)(),(0,s.j4)(b,{key:2,"search-results":c.objectResults.project,"import-variables":c.projectVariables,destination:"project","root-url":r.rootUrl},null,8,["search-results","import-variables","root-url"])):(0,s.kq)("v-if",!0),(0,s.kq)(" Tasks "),c.objectResults.task.length>0?((0,s.wg)(),(0,s.j4)(b,{key:3,"search-results":c.objectResults.task,"import-variables":c.taskVariables,destination:"task","root-url":r.rootUrl},null,8,["search-results","import-variables","root-url"])):(0,s.kq)("v-if",!0),(0,s.kq)(" If there are no objects "),0===p.countObjects&&c.isLoaded?((0,s.wg)(),(0,s.iD)("div",u," It looks like no one has assigned you any tasks. ")):(0,s.kq)("v-if",!0)])])}]])},7742:(t,e,r)=>{r.d(e,{Z:()=>m});var s=r(6252),a=r(3577);const o={class:"table"},l={width:"75%"},i=(0,s._)("td",{width:"25%"},"Status",-1),n=["href"],u=(0,s._)("div",{class:"spacer"},null,-1),d={class:"small-text"},c=(0,s._)("div",{class:"spacer"},null,-1),p={class:"small-text"};var b=r(7515);const h={name:"RenderObjectTable",props:{destination:{type:String,default:""},importVariables:{type:Object,default:()=>({header:"",prefix:"",id:0,title:"",status:""})},rootUrl:{type:String,default:"/"},searchResults:{type:Array,default:()=>[]}},data:()=>({}),mixins:[b.Z]},m=(0,r(3744).Z)(h,[["render",function(t,e,r,b,h,m){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.kq)(" TABLE OF DATA "),(0,s._)("table",o,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",l,(0,a.toDisplayString)(r.importVariables.header),1),i])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.searchResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",null,[(0,s.kq)(" LINK "),(0,s._)("a",{href:`${r.rootUrl}${r.destination}_information/${e[r.importVariables.id]}/`},[(0,s._)("p",null,(0,a.toDisplayString)(e[r.importVariables.title]),1),u,(0,s._)("p",d,(0,a.toDisplayString)(r.importVariables.prefix)+(0,a.toDisplayString)(e[r.importVariables.id]),1)],8,n)]),(0,s._)("td",null,[(0,s.kq)(" STATUS "),(0,s._)("p",null,(0,a.toDisplayString)(e[r.importVariables.status]),1),c,(0,s._)("p",p,(0,a.toDisplayString)(t.getNiceDate(e[r.importVariables.end_date])),1)])])))),128))])])],2112)}]])},7515:(t,e,r)=>{r.d(e,{Z:()=>a});var s=r(9490);const a={methods:{getNiceDate:function(t){return s.ou.fromISO(t).toLocaleString(s.ou.DATETIME_MED)}}}},3058:(t,e,r)=>{r.d(e,{Z:()=>a});var s=r(5169);const a={methods:{showErrorModal:function(t,e,r){new s.u_(document.getElementById("loadingModal")).hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new requirement<hr>${t}`,new s.u_(document.getElementById("errorModal")).show()},showValidationErrorModal:function(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new s.u_(document.getElementById("errorModal")).show()}}}}}]);