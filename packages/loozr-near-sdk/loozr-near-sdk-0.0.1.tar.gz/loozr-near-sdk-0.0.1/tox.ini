# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
envlist = pyt310, flake8, lint
isolated_build = True

[testenv:lint]
deps = pre-commit
commands = pre-commit run --all-files

[testenv]
changedir = tests
setenv =
    RPC_NODE=https://rpc.ci-testnet.near.org
    MIXER_SECRET_KEY=ed25519:2wyRcSwSuHtRVmkMCGjPwnzZmQLeXLzLLyED1NDMt4BjnKgQL6tF85yBx6Jr26D2dUNeC716RBoTxntVHsegogYw
    MIXER_ACCOUNT_ID=lzr2_mixr.test.near
commands = discover
deps = discover

[gh-actions]
python = 
    3.10: pyt310, lint