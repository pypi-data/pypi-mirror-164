{"version":3,"file":"392dfb53.js","mappings":";AAyBA;;AAGA;AACA;;;AAGA;AAEA;;AAOA;AACA;;;AAKA;;AAGA;AACA;;;AA9BA;;;;;;;;;;;;;AATA","sources":["webpack://home-assistant-frontend/./src/dialogs/more-info/controls/more-info-person.ts"],"sourcesContent":["import \"@material/mwc-button\";\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport \"../../../components/ha-attributes\";\nimport \"../../../components/map/ha-map\";\nimport { showZoneEditor } from \"../../../data/zone\";\nimport { HomeAssistant } from \"../../../types\";\n\n@customElement(\"more-info-person\")\nclass MoreInfoPerson extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() public stateObj?: HassEntity;\n\n  private _entityArray = memoizeOne((entityId: string) => [entityId]);\n\n  protected render(): TemplateResult {\n    if (!this.hass || !this.stateObj) {\n      return html``;\n    }\n\n    return html`\n      ${this.stateObj.attributes.latitude && this.stateObj.attributes.longitude\n        ? html`\n            <ha-map\n              .hass=${this.hass}\n              .entities=${this._entityArray(this.stateObj.entity_id)}\n              autoFit\n            ></ha-map>\n          `\n        : \"\"}\n      ${!__DEMO__ &&\n      this.hass.user?.is_admin &&\n      this.stateObj.state === \"not_home\" &&\n      this.stateObj.attributes.latitude &&\n      this.stateObj.attributes.longitude\n        ? html`\n            <div class=\"actions\">\n              <mwc-button @click=${this._handleAction}>\n                ${this.hass.localize(\n                  \"ui.dialogs.more_info_control.person.create_zone\"\n                )}\n              </mwc-button>\n            </div>\n          `\n        : \"\"}\n      <ha-attributes\n        .hass=${this.hass}\n        .stateObj=${this.stateObj}\n        extra-filters=\"id,user_id,editable\"\n      ></ha-attributes>\n    `;\n  }\n\n  private _handleAction() {\n    showZoneEditor({\n      latitude: this.stateObj!.attributes.latitude,\n      longitude: this.stateObj!.attributes.longitude,\n    });\n    fireEvent(this, \"hass-more-info\", { entityId: null });\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      .flex {\n        display: flex;\n        justify-content: space-between;\n      }\n      .actions {\n        margin: 8px 0;\n        text-align: right;\n      }\n      ha-map {\n        margin-top: 16px;\n        margin-bottom: 16px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"more-info-person\": MoreInfoPerson;\n  }\n}\n"],"names":[],"sourceRoot":""}