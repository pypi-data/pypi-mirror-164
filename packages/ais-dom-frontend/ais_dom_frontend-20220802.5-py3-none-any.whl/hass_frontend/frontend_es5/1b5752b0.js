"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[76478],{57066:function(n,e,t){t.d(e,{Lo:function(){return c},IO:function(){return f},qv:function(){return s},sG:function(){return y},TD:function(){return v},Dl:function(){return p}});var r=t(97330),i=t(85415),a=t(38346);function o(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return u(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return o=n.done,n},e:function(n){c=!0,a=n},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw a}}}}function u(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var c=function(n,e){return n.callWS(Object.assign({type:"config/area_registry/create"},e))},f=function(n,e,t){return n.callWS(Object.assign({type:"config/area_registry/update",area_id:e},t))},s=function(n,e){return n.callWS({type:"config/area_registry/delete",area_id:e})},l=function(n){return n.sendMessagePromise({type:"config/area_registry/list"}).then((function(n){return n.sort((function(n,e){return(0,i.$)(n.name,e.name)}))}))},d=function(n,e){return n.subscribeEvents((0,a.D)((function(){return l(n).then((function(n){return e.setState(n,!0)}))}),500,!0),"area_registry_updated")},y=function(n,e){return(0,r.B)("_areaRegistry",l,d,n,e)},v=function(n){var e,t={},r=o(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.area_id&&(i.area_id in t||(t[i.area_id]=[]),t[i.area_id].push(i))}}catch(a){r.e(a)}finally{r.f()}return t},p=function(n){var e,t={},r=o(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.area_id&&(i.area_id in t||(t[i.area_id]=[]),t[i.area_id].push(i))}}catch(a){r.e(a)}finally{r.f()}return t}},57292:function(n,e,t){t.d(e,{jL:function(){return f},t1:function(){return s},dl:function(){return l},q4:function(){return v},Wg:function(){return p},pI:function(){return g},HP:function(){return m}});var r=t(97330),i=t(91741),a=t(85415),o=t(38346);function u(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return c(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return o=n.done,n},e:function(n){u=!0,a=n},f:function(){try{o||null==t.return||t.return()}finally{if(u)throw a}}}}function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var f=function(n,e,t){return n.name_by_user||n.name||t&&function(n,e){var t,r=u(e||[]);try{for(r.s();!(t=r.n()).done;){var a=t.value,o="string"==typeof a?a:a.entity_id,c=n.states[o];if(c)return(0,i.C)(c)}}catch(f){r.e(f)}finally{r.f()}}(e,t)||e.localize("ui.panel.config.devices.unnamed_device","type",e.localize("ui.panel.config.devices.type.".concat(n.entry_type||"device")))},s=function(n,e,t){return n.callWS(Object.assign({type:"config/device_registry/update",device_id:e},t))},l=function(n,e,t){return n.callWS({type:"config/device_registry/remove_config_entry",device_id:e,config_entry_id:t})},d=function(n){return n.sendMessagePromise({type:"config/device_registry/list"})},y=function(n,e){return n.subscribeEvents((0,o.D)((function(){return d(n).then((function(n){return e.setState(n,!0)}))}),500,!0),"device_registry_updated")},v=function(n,e){return(0,r.B)("_dr",d,y,n,e)},p=function(n){return n.sort((function(n,e){return(0,a.f)(n.name||"",e.name||"")}))},g=function(n){var e,t={},r=u(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.device_id&&(i.device_id in t||(t[i.device_id]=[]),t[i.device_id].push(i))}}catch(a){r.e(a)}finally{r.f()}return t},m=function(n,e){var t,r={},i=u(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=n[a.entity_id];null!=o&&o.domain&&null!==a.device_id&&(r[a.device_id]||(r[a.device_id]=[]),r[a.device_id].push(o.domain))}}catch(c){i.e(c)}finally{i.f()}return r}},76478:function(n,e,t){t.r(e),t.d(e,{OriginalStatesStrategy:function(){return m}});var r=t(28101),i=t(7323),a=t(11950),o=t(57066),u=t(57292),c=t(55424),f=t(74186),s=t(38926);function l(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==t)return;var r,i,a=[],o=!0,u=!1;try{for(t=t.call(n);!(o=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(c){u=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return a}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return d(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function y(n,e,t,r,i,a,o){try{var u=n[a](o),c=u.value}catch(f){return void t(f)}u.done?e(c):Promise.resolve(c).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(n){y(a,r,i,o,u,"next",n)}function u(n){y(a,r,i,o,u,"throw",n)}o(void 0)}))}}function p(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var g=!1,m=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var e,t,d,y,m;return e=n,t=null,d=[{key:"generateView",value:(m=v(regeneratorRuntime.mark((function n(e){var t,d,y,v,p,m,h,_,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((t=e.hass).config.state!==r.UE){n.next=3;break}return n.abrupt("return",{cards:[{type:"starting"}]});case 3:if(!t.config.safe_mode){n.next=5;break}return n.abrupt("return",{cards:[{type:"safe-mode"}]});case 5:return g||(g=!0,(0,o.sG)(t.connection,(function(){})),(0,u.q4)(t.connection,(function(){})),(0,f.LM)(t.connection,(function(){}))),n.next=8,Promise.all([(0,a.l)(t.connection,o.sG),(0,a.l)(t.connection,u.q4),(0,a.l)(t.connection,f.LM),t.loadBackendTranslation("title"),(0,i.p)(t,"energy")?(0,c.ZC)(t).catch((function(){})):void 0]);case 8:return d=n.sent,y=l(d,5),v=y[0],p=y[1],m=y[2],h=y[3],_=y[4],b=(0,s.AP)(v,p,m,t.states,h,_),t.config.components.includes("geo_location")&&b&&b.cards&&b.cards.push({type:"map",geo_location_sources:["all"]}),0===b.cards.length&&b.cards.push({type:"empty-state"}),n.abrupt("return",b);case 19:case"end":return n.stop()}}),n)}))),function(n){return m.apply(this,arguments)})},{key:"generateDashboard",value:(y=v(regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{title:e.hass.config.location_name,views:[{strategy:{type:"original-states"}}]});case 1:case"end":return n.stop()}}),n)}))),function(n){return y.apply(this,arguments)})}],t&&p(e.prototype,t),d&&p(e,d),n}()}}]);