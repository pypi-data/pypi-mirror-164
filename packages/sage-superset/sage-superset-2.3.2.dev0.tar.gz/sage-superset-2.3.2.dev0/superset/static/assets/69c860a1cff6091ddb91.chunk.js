"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[859],{958237:(e,t,r)=>{r.d(t,{Z:()=>c}),r(667294);var a,o=r(751995),s=r(294184),l=r.n(s),n=r(211965);e=r.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=o.iK.div`
  ${({theme:e,showThumbnails:t})=>`\n    display: grid;\n    grid-gap: ${12*e.gridUnit}px ${4*e.gridUnit}px;\n    grid-template-columns: repeat(auto-fit, 300px);\n    margin-top: ${-6*e.gridUnit}px;\n    padding: ${t?`${8*e.gridUnit+3}px ${9*e.gridUnit}px`:`${8*e.gridUnit+1}px ${9*e.gridUnit}px`};\n  `}
`,d=o.iK.div`
  border: 2px solid transparent;
  &.card-selected {
    border: 2px solid ${({theme:e})=>e.colors.primary.base};
  }
  &.bulk-select {
    cursor: pointer;
  }
`;function c({bulkSelectEnabled:e,loading:t,prepareRow:r,renderCard:a,rows:o,showThumbnails:s}){return a?(0,n.tZ)(i,{showThumbnails:s},t&&0===o.length&&[...new Array(25)].map(((e,r)=>(0,n.tZ)("div",{key:r},a({loading:t})))),o.length>0&&o.map((o=>a?(r(o),(0,n.tZ)(d,{className:l()({"card-selected":e&&o.isSelected,"bulk-select":e}),key:o.id,onClick:t=>{return r=t,a=o.toggleRowSelected,void(e&&(r.preventDefault(),r.stopPropagation(),a()));var r,a},role:"none"},a({...o.original,loading:t}))):null))):null}var u,p;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(i,"CardContainer","/Users/chenming/superset/superset-frontend/src/components/ListView/CardCollection.tsx"),u.register(d,"CardWrapper","/Users/chenming/superset/superset-frontend/src/components/ListView/CardCollection.tsx"),u.register(c,"CardCollection","/Users/chenming/superset/superset-frontend/src/components/ListView/CardCollection.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},824129:(e,t,r)=>{r.d(t,{s:()=>_});var a,o=r(667294),s=r(751995),l=r(455867),n=r(104715),i=r(558347),d=r(800062),c=r(211965);e=r.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const p=s.iK.div`
  display: inline-flex;
  font-size: ${({theme:e})=>e.typography.sizes.s}px;
  align-items: center;
  text-align: left;
  width: ${d.Lh}px;
`,_=({initialSort:e,onChange:t,options:r,pageIndex:a,pageSize:s})=>{const d=e&&r.find((({id:t})=>t===e[0].id))||r[0],[u,_]=(0,o.useState)({label:d.label,value:d.value}),g=(0,o.useMemo)((()=>r.map((e=>({label:e.label,value:e.value})))),[r]);return(0,c.tZ)(p,null,(0,c.tZ)(n.Ph,{ariaLabel:(0,l.t)("Sort"),header:(0,c.tZ)(i.lX,null,(0,l.t)("Sort")),labelInValue:!0,onChange:e=>(e=>{_(e);const o=r.find((({value:t})=>t===e.value));if(o){const e=[{id:o.id,desc:o.desc}];t({pageIndex:a,pageSize:s,sortBy:e,filters:[]})}})(e),options:g,showSearch:!0,value:u}))};var g,f;u(_,"useState{[value, setValue]({\n        label: defaultSort.label,\n        value: defaultSort.value,\n    })}\nuseMemo{formattedOptions}"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(p,"SortContainer","/Users/chenming/superset/superset-frontend/src/components/ListView/CardSortSelect.tsx"),g.register(_,"CardSortSelect","/Users/chenming/superset/superset-frontend/src/components/ListView/CardSortSelect.tsx")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},471801:(e,t,r)=>{r.d(t,{G:()=>l});var a,o=r(751995),s=r(800062);e=r.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=o.iK.div`
  display: inline-flex;
  font-size: ${({theme:e})=>e.typography.sizes.s}px;
  align-items: center;
  width: ${s.Lh}px;
`;var n,i;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(l,"FilterContainer","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/Base.ts"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},767975:(e,t,r)=>{r.d(t,{Z:()=>_});var a,o=r(667294),s=r(730381),l=r.n(s),n=r(751995),i=r(662276),d=r(558347),c=r(211965);e=r.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const p=n.iK.div`
  display: inline-flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  width: 360px;
`;function _({Header:e,initialValue:t,onSubmit:r}){const[a,s]=(0,o.useState)(null!=t?t:null),n=(0,o.useMemo)((()=>!a||Array.isArray(a)&&!a.length?null:[l()(a[0]),l()(a[1])]),[a]);return(0,c.tZ)(p,null,(0,c.tZ)(d.lX,null,e),(0,c.tZ)(i.S,{showTime:!0,value:n,onChange:e=>{var t,a,o,l;if(!e)return s(null),void r([]);const n=[null!=(t=null==(a=e[0])?void 0:a.valueOf())?t:0,null!=(o=null==(l=e[1])?void 0:l.valueOf())?o:0];s(n),r(n)}}))}var g,f;u(_,"useState{[value, setValue](initialValue ?? null)}\nuseMemo{momentValue}"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(p,"RangeFilterContainer","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/DateRange.tsx"),g.register(_,"DateRangeFilter","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/DateRange.tsx")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},120447:(e,t,r)=>{r.d(t,{Z:()=>m});var a,o=r(667294),s=r(751995),l=r(455867),n=r(87693),i=r(104715),d=r(800062),c=r(558347),u=r(211965);e=r.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const _=s.iK.div`
  width: ${d.Lh}px;
`,g=(0,s.iK)(n.Z.Search)`
  color: ${({theme:e})=>e.colors.grayscale.light1};
`,f=(0,s.iK)(i.oc)`
  border-radius: ${({theme:e})=>e.gridUnit}px;
`;function m({Header:e,name:t,initialValue:r,onSubmit:a}){const[s,n]=(0,o.useState)(r||""),i=()=>{s&&a(s.trim())};return(0,u.tZ)(_,null,(0,u.tZ)(c.lX,null,e),(0,u.tZ)(f,{allowClear:!0,"data-test":"filters-search",placeholder:(0,l.t)("Type a value"),name:t,value:s,onChange:e=>{n(e.currentTarget.value),""===e.currentTarget.value&&a("")},onPressEnter:i,onBlur:i,prefix:(0,u.tZ)(g,{iconSize:"l"})}))}var h,b;p(m,"useState{[value, setValue](initialValue || '')}"),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(_,"Container","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/Search.tsx"),h.register(g,"SearchIcon","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/Search.tsx"),h.register(f,"StyledInput","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/Search.tsx"),h.register(m,"SearchFilter","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/Search.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},994081:(e,t,r)=>{r.d(t,{Z:()=>p});var a,o=r(667294),s=r(455867),l=r(104715),n=r(558347),i=r(471801),d=r(211965);function c({Header:e,name:t,fetchSelects:r,initialValue:a,onSelect:c,selects:u=[]}){const[p,_]=(0,o.useState)(a),g=(0,o.useMemo)((()=>async(e,t,a)=>{if(r){const o=await r(e,t,a);return{data:o.data,totalCount:o.totalCount}}return{data:[],totalCount:0}}),[r]);return(0,d.tZ)(i.G,null,(0,d.tZ)(l.Ph,{allowClear:!0,ariaLabel:"string"==typeof e?e:t||(0,s.t)("Filter"),labelInValue:!0,"data-test":"filters-select",header:(0,d.tZ)(n.lX,null,e),onChange:e=>{c(e?{label:e.label,value:e.value}:void 0),_(e)},onClear:()=>{c(void 0),_(void 0)},options:r?g:u,placeholder:(0,s.t)("Select or type a value"),showSearch:!0,value:p}))}e=r.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(c,"useState{[selectedOption, setSelectedOption](initialValue)}\nuseMemo{fetchAndFormatSelects}");const u=c,p=u;var _,g;(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(c,"SelectFilter","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/Select.tsx"),_.register(u,"default","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/Select.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},152416:(e,t,r)=>{r.d(t,{Z:()=>p});var a,o=r(667294),s=r(468135),l=r(120447),n=r(994081),i=r(767975),d=r(211965);function c({filters:e,internalFilters:t=[],updateFilterValue:r}){return(0,d.tZ)(o.Fragment,null,e.map((({Header:e,fetchSelects:a,id:o,input:s,paginate:c,selects:u},p)=>{const _=t[p]&&t[p].value;return"select"===s?(0,d.tZ)(n.Z,{Header:e,fetchSelects:a,initialValue:_,key:o,name:o,onSelect:e=>r(p,e),paginate:c,selects:u}):"search"===s&&"string"==typeof e?(0,d.tZ)(l.Z,{Header:e,initialValue:_,key:o,name:o,onSubmit:e=>r(p,e)}):"datetime_range"===s?(0,d.tZ)(i.Z,{Header:e,initialValue:_,key:o,name:o,onSubmit:e=>r(p,e)}):null})))}e=r.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=(0,s.b)(c),p=u;var _,g;(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(c,"UIFilters","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/index.tsx"),_.register(u,"default","/Users/chenming/superset/superset-frontend/src/components/ListView/Filters/index.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},112142:(e,t,r)=>{r.d(t,{Z:()=>T});var a,o,s=r(205872),l=r.n(s),n=r(751995),i=r(455867),d=r(667294),c=r(104715),u=r(229487);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p.apply(this,arguments)}const _=function(e){return d.createElement("svg",p({width:119,height:76,viewBox:"0 0 119 76",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.195 1.366L103 24v38a4 4 0 01-4 4H20a4 4 0 01-4-4V24L35.805 1.366A4 4 0 0138.815 0h41.37a4 4 0 013.01 1.366zM101 26v36a2 2 0 01-2 2H20a2 2 0 01-2-2V26h17.25A4.75 4.75 0 0140 30.75a6.75 6.75 0 006.75 6.75h25.5A6.75 6.75 0 0079 30.75 4.75 4.75 0 0183.75 26H101zm-.658-2L81.69 2.683A2 2 0 0080.185 2h-41.37a2 2 0 00-1.505.683L18.657 24H35.25A6.75 6.75 0 0142 30.75a4.75 4.75 0 004.75 4.75h25.5A4.75 4.75 0 0077 30.75 6.75 6.75 0 0183.75 24h16.592z",fill:"#D1D1D1"})),o||(o=d.createElement("path",{d:"M16 53.29C6.074 55.7 0 58.94 0 62.5 0 69.956 26.64 76 59.5 76S119 69.956 119 62.5c0-3.56-6.074-6.799-16-9.21V62a4 4 0 01-4 4H20a4 4 0 01-4-4v-8.71z",fill:"#F2F2F2"})))};var g,f=r(294184),m=r.n(f),h=r(835932),b=r(87693),L=r(849576),v=r(212591),w=r(397754),y=r(958237),E=r(152416),M=r(824129),x=r(800062),S=r(211965);e=r.hmd(e),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&g(e);var C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const H=n.iK.div`
  text-align: center;

  .superset-list-view {
    text-align: left;
    border-radius: 4px 0;
    margin: 0 ${({theme:e})=>4*e.gridUnit}px;

    .header {
      display: flex;
      padding-bottom: ${({theme:e})=>4*e.gridUnit}px;

      & .controls {
        display: flex;
        flex-wrap: wrap;
        column-gap: ${({theme:e})=>6*e.gridUnit}px;
        row-gap: ${({theme:e})=>4*e.gridUnit}px;
      }
    }

    .body.empty table {
      margin-bottom: 0;
    }

    .body {
      overflow-x: auto;
    }

    .ant-empty {
      .ant-empty-image {
        height: auto;
      }
    }
  }

  .pagination-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin-bottom: ${({theme:e})=>4*e.gridUnit}px;
  }

  .row-count-container {
    margin-top: ${({theme:e})=>2*e.gridUnit}px;
    color: ${({theme:e})=>e.colors.grayscale.base};
  }
`,P=(0,n.iK)(u.Z)`
  border-radius: 0;
  margin-bottom: 0;
  color: #3d3d3d;
  background-color: ${({theme:e})=>e.colors.primary.light4};

  .selectedCopy {
    display: inline-block;
    padding: ${({theme:e})=>2*e.gridUnit}px 0;
  }

  .deselect-all {
    color: #1985a0;
    margin-left: ${({theme:e})=>4*e.gridUnit}px;
  }

  .divider {
    margin: ${({theme:{gridUnit:e}})=>`${2*-e}px 0 ${2*-e}px ${4*e}px`};
    width: 1px;
    height: ${({theme:e})=>8*e.gridUnit}px;
    box-shadow: inset -1px 0px 0px #dadada;
    display: inline-flex;
    vertical-align: middle;
    position: relative;
  }

  .ant-alert-close-icon {
    margin-top: ${({theme:e})=>1.5*e.gridUnit}px;
  }
`,V={Cell:({row:e})=>(0,S.tZ)(L.Z,l()({},e.getToggleRowSelectedProps(),{id:e.id})),Header:({getToggleAllRowsSelectedProps:e})=>(0,S.tZ)(L.Z,l()({},e(),{id:"header-toggle-all"})),id:"selection",size:"sm"},U=n.iK.div`
  padding-right: ${({theme:e})=>4*e.gridUnit}px;
  margin-top: ${({theme:e})=>5*e.gridUnit+1}px;
  white-space: nowrap;
  display: inline-block;

  .toggle-button {
    display: inline-block;
    border-radius: ${({theme:e})=>e.gridUnit/2}px;
    padding: ${({theme:e})=>e.gridUnit}px;
    padding-bottom: ${({theme:e})=>.5*e.gridUnit}px;

    &:first-of-type {
      margin-right: ${({theme:e})=>2*e.gridUnit}px;
    }
  }

  .active {
    background-color: ${({theme:e})=>e.colors.grayscale.base};
    svg {
      color: ${({theme:e})=>e.colors.grayscale.light5};
    }
  }
`,G=n.iK.div`
  padding: ${({theme:e})=>40*e.gridUnit}px 0;

  &.table {
    background: ${({theme:e})=>e.colors.grayscale.light5};
  }
`,D=({mode:e,setMode:t})=>(0,S.tZ)(U,null,(0,S.tZ)("div",{role:"button",tabIndex:0,onClick:e=>{e.currentTarget.blur(),t("card")},className:m()("toggle-button",{active:"card"===e})},(0,S.tZ)(b.Z.CardView,null)),(0,S.tZ)("div",{role:"button",tabIndex:0,onClick:e=>{e.currentTarget.blur(),t("table")},className:m()("toggle-button",{active:"table"===e})},(0,S.tZ)(b.Z.ListView,null)));function O({columns:e,data:t,count:r,pageSize:a,fetchData:o,loading:s,initialSort:l=[],className:n="",filters:u=[],bulkActions:p=[],bulkSelectEnabled:g=!1,disableBulkSelect:f=(()=>{}),renderBulkSelectCopy:m=(e=>(0,i.t)("%s Selected",e.length)),renderCard:b,showThumbnails:L,cardSortSelectOptions:C,defaultViewMode:U="card",highlightRowId:O,emptyState:I={}}){const{getTableProps:T,getTableBodyProps:R,headerGroups:Z,rows:F,prepareRow:A,pageCount:B=1,gotoPage:k,applyFilterValue:K,selectedFlatRows:W,toggleAllRowsSelected:$,setViewMode:q,state:{pageIndex:z,pageSize:N,internalFilters:j,viewMode:Q}}=(0,x.o4)({bulkSelectColumnConfig:V,bulkSelectMode:g&&Boolean(p.length),columns:e,count:r,data:t,fetchData:o,initialPageSize:a,initialSort:l,initialFilters:u,renderCard:Boolean(b),defaultViewMode:U}),X=Boolean(u.length);if(X){const t=e.reduce(((e,t)=>({...e,[t.id||t.accessor]:!0})),{});u.forEach((e=>{if(!t[e.id])throw new x.QG(`Invalid filter config, ${e.id} is not present in columns`)}))}const Y=Boolean(b);return(0,d.useEffect)((()=>{g||$(!1)}),[g,$]),(0,S.tZ)(H,null,(0,S.tZ)("div",{"data-test":n,className:`superset-list-view ${n}`},(0,S.tZ)("div",{className:"header"},Y&&(0,S.tZ)(D,{mode:Q,setMode:q}),(0,S.tZ)("div",{className:"controls"},X&&(0,S.tZ)(E.Z,{filters:u,internalFilters:j,updateFilterValue:K}),"card"===Q&&C&&(0,S.tZ)(M.s,{initialSort:l,onChange:o,options:C,pageIndex:z,pageSize:N}))),(0,S.tZ)("div",{className:"body "+(0===F.length?"empty":"")},g&&(0,S.tZ)(P,{"data-test":"bulk-select-controls",type:"info",closable:!0,showIcon:!1,onClose:f,message:(0,S.tZ)(d.Fragment,null,(0,S.tZ)("div",{className:"selectedCopy","data-test":"bulk-select-copy"},m(W)),Boolean(W.length)&&(0,S.tZ)(d.Fragment,null,(0,S.tZ)("span",{"data-test":"bulk-select-deselect-all",role:"button",tabIndex:0,className:"deselect-all",onClick:()=>$(!1)},(0,i.t)("Deselect all")),(0,S.tZ)("div",{className:"divider"}),p.map((e=>(0,S.tZ)(h.Z,{"data-test":"bulk-select-action",key:e.key,buttonStyle:e.type,cta:!0,onClick:()=>e.onSelect(W.map((e=>e.original)))},e.name)))))}),"card"===Q&&(0,S.tZ)(y.Z,{bulkSelectEnabled:g,prepareRow:A,renderCard:b,rows:F,loading:s,showThumbnails:L}),"table"===Q&&(0,S.tZ)(w.Z,{getTableProps:T,getTableBodyProps:R,prepareRow:A,headerGroups:Z,rows:F,columns:e,loading:s,highlightRowId:O}),!s&&0===F.length&&(0,S.tZ)(G,{className:Q},(0,S.tZ)(c.HY,{image:(0,S.tZ)(_,null),description:I.message||(0,i.t)("No Data")},I.slot||null)))),F.length>0&&(0,S.tZ)("div",{className:"pagination-container"},(0,S.tZ)(v.Z,{totalPages:B||0,currentPage:B?z+1:0,onChange:e=>k(e-1),hideFirstAndLastPageLinks:!0}),(0,S.tZ)("div",{className:"row-count-container"},!s&&(0,i.t)("%s-%s of %s",N*z+(F.length&&1),N*z+F.length,r))))}C(O,"useListViewState{{ getTableProps, getTableBodyProps, headerGroups, rows, prepareRow, pageCount = 1, gotoPage, applyFilterValue, selectedFlatRows, toggleAllRowsSelected, setViewMode, state: { pageIndex, pageSize, internalFilters, viewMode }, }}\nuseEffect{}",(()=>[x.o4]));const I=O,T=I;var R,Z;(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(H,"ListViewStyles","/Users/chenming/superset/superset-frontend/src/components/ListView/ListView.tsx"),R.register(P,"BulkSelectWrapper","/Users/chenming/superset/superset-frontend/src/components/ListView/ListView.tsx"),R.register(V,"bulkSelectColumnConfig","/Users/chenming/superset/superset-frontend/src/components/ListView/ListView.tsx"),R.register(U,"ViewModeContainer","/Users/chenming/superset/superset-frontend/src/components/ListView/ListView.tsx"),R.register(G,"EmptyWrapper","/Users/chenming/superset/superset-frontend/src/components/ListView/ListView.tsx"),R.register(D,"ViewModeToggle","/Users/chenming/superset/superset-frontend/src/components/ListView/ListView.tsx"),R.register(O,"ListView","/Users/chenming/superset/superset-frontend/src/components/ListView/ListView.tsx"),R.register(I,"default","/Users/chenming/superset/superset-frontend/src/components/ListView/ListView.tsx")),(Z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Z(e)},550859:(e,t,r)=>{r.d(t,{p:()=>o.p,Z:()=>a.Z});var a=r(112142),o=r(349111);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},349111:(e,t,r)=>{var a,o,s,l;r.d(t,{p:()=>o}),e=r.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,function(e){e.startsWith="sw",e.endsWith="ew",e.contains="ct",e.equals="eq",e.notStartsWith="nsw",e.notEndsWith="new",e.notContains="nct",e.notEquals="neq",e.greaterThan="gt",e.lessThan="lt",e.relationManyMany="rel_m_m",e.relationOneMany="rel_o_m",e.titleOrSlug="title_or_slug",e.nameOrDescription="name_or_description",e.allText="all_text",e.chartAllText="chart_all_text",e.datasetIsNullOrEmpty="dataset_is_null_or_empty",e.between="between",e.dashboardIsFav="dashboard_is_favorite",e.chartIsFav="chart_is_favorite",e.chartIsCertified="chart_is_certified",e.dashboardIsCertified="dashboard_is_certified"}(o||(o={})),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(o,"FilterOperator","/Users/chenming/superset/superset-frontend/src/components/ListView/types.ts"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},800062:(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Lh:()=>SELECT_WIDTH,QG:()=>ListViewError,o4:()=>useListViewState});var lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(618446),lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(667294),react_table__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(379521),react_table__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_table__WEBPACK_IMPORTED_MODULE_2__),use_query_params__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(535755),rison__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(115926),rison__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(rison__WEBPACK_IMPORTED_MODULE_4__),enterModule;module=__webpack_require__.hmd(module),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const RisonParam={encode:e=>void 0===e?void 0:rison__WEBPACK_IMPORTED_MODULE_4___default().encode(e).replace(/%/g,"%25").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/#/g,"%23"),decode:e=>void 0===e||Array.isArray(e)?void 0:rison__WEBPACK_IMPORTED_MODULE_4___default().decode(e)},SELECT_WIDTH=200;class ListViewError extends Error{constructor(...e){super(...e),this.name="ListViewError"}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}function removeFromList(e,t){return e.filter(((e,r)=>t!==r))}function updateInList(e,t,r){const a=e.find(((e,r)=>t===r));return[...e.slice(0,t),{...a,...r},...e.slice(t+1)]}function mergeCreateFilterValues(e,t){return e.map((({id:e,urlDisplay:r,operator:a})=>({id:e,urlDisplay:r,operator:a,value:t[r||e]})))}function convertFilters(e){return e.filter((e=>!(void 0===e.value||Array.isArray(e.value)&&!e.value.length))).map((({value:e,operator:t,id:r})=>"between"===t&&Array.isArray(e)?[{value:e[0],operator:"gt",id:r},{value:e[1],operator:"lt",id:r}]:{value:e,operator:t,id:r})).flat()}function convertFiltersRison(e,t){const r=[],a={};return Object.keys(e).forEach((t=>{const o={id:t,value:e[t]};a[t]=o,r.push(o)})),t.forEach((e=>{const t=e.urlDisplay||e.id,r=a[t];r&&(r.operator=e.operator,r.id=e.id)})),r}function extractInputValue(e,t){return e&&"text"!==e?"checkbox"===e?t.currentTarget.checked:null:t.currentTarget.value}function useListViewState({fetchData:e,columns:t,data:r,count:a,initialPageSize:o,initialFilters:s=[],initialSort:l=[],bulkSelectMode:n=!1,bulkSelectColumnConfig:i,renderCard:d=!1,defaultViewMode:c="card"}){const[u,p]=(0,use_query_params__WEBPACK_IMPORTED_MODULE_3__.Kx)({filters:RisonParam,pageIndex:use_query_params__WEBPACK_IMPORTED_MODULE_3__.yz,sortColumn:use_query_params__WEBPACK_IMPORTED_MODULE_3__.Zp,sortOrder:use_query_params__WEBPACK_IMPORTED_MODULE_3__.Zp,viewMode:use_query_params__WEBPACK_IMPORTED_MODULE_3__.Zp}),_=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>u.sortColumn&&u.sortOrder?[{id:u.sortColumn,desc:"desc"===u.sortOrder}]:l),[u.sortColumn,u.sortOrder]),g={filters:u.filters?convertFiltersRison(u.filters,s):[],pageIndex:u.pageIndex||0,pageSize:o,sortBy:_},[f,m]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(u.viewMode||(d?c:"table")),h=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>{const e=t.map((e=>({...e,filter:"exact"})));return n?[i,...e]:e}),[n,t]),{getTableProps:b,getTableBodyProps:L,headerGroups:v,rows:w,prepareRow:y,canPreviousPage:E,canNextPage:M,pageCount:x,gotoPage:S,setAllFilters:C,selectedFlatRows:H,toggleAllRowsSelected:P,state:{pageIndex:V,pageSize:U,sortBy:G,filters:D}}=(0,react_table__WEBPACK_IMPORTED_MODULE_2__.useTable)({columns:h,count:a,data:r,disableFilters:!0,disableSortRemove:!0,initialState:g,manualFilters:!0,manualPagination:!0,manualSortBy:!0,autoResetFilters:!1,pageCount:Math.ceil(a/o)},react_table__WEBPACK_IMPORTED_MODULE_2__.useFilters,react_table__WEBPACK_IMPORTED_MODULE_2__.useSortBy,react_table__WEBPACK_IMPORTED_MODULE_2__.usePagination,react_table__WEBPACK_IMPORTED_MODULE_2__.useRowState,react_table__WEBPACK_IMPORTED_MODULE_2__.useRowSelect),[O,I]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(u.filters&&s.length?mergeCreateFilterValues(s,u.filters):[]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{s.length&&I(mergeCreateFilterValues(s,u.filters?u.filters:{}))}),[s]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const t={};O.forEach((e=>{if(void 0!==e.value&&("string"!=typeof e.value||e.value.length>0)){const r=e.urlDisplay||e.id;t[r]=e.value}}));const r={filters:Object.keys(t).length?t:void 0,pageIndex:V};G[0]&&(r.sortColumn=G[0].id,r.sortOrder=G[0].desc?"desc":"asc"),d&&(r.viewMode=f);const a=void 0!==u.pageIndex&&r.pageIndex!==u.pageIndex?"push":"replace";p(r,a),e({pageIndex:V,pageSize:U,sortBy:G,filters:D})}),[e,V,U,G,D]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(g.pageIndex,V)||S(g.pageIndex)}),[u]),{canNextPage:M,canPreviousPage:E,getTableBodyProps:L,getTableProps:b,gotoPage:S,headerGroups:v,pageCount:x,prepareRow:y,rows:w,selectedFlatRows:H,setAllFilters:C,state:{pageIndex:V,pageSize:U,sortBy:G,filters:D,internalFilters:O,viewMode:f},toggleAllRowsSelected:P,applyFilterValue:(e,t)=>{I((r=>{if(r[e].value===t)return r;const a={...r[e],value:t},o=updateInList(r,e,a);return C(convertFilters(o)),S(0),o}))},setViewMode:m}}__signature__(useListViewState,"useQueryParams{[query, setQuery]}\nuseMemo{initialSortBy}\nuseState{[viewMode, setViewMode](query.viewMode ||\n        (renderCard ? defaultViewMode : 'table'))}\nuseMemo{columnsWithSelect}\nuseTable{{ getTableProps, getTableBodyProps, headerGroups, rows, prepareRow, canPreviousPage, canNextPage, pageCount, gotoPage, setAllFilters, selectedFlatRows, toggleAllRowsSelected, state: { pageIndex, pageSize, sortBy, filters }, }}\nuseState{[internalFilters, setInternalFilters](query.filters && initialFilters.length\n        ? mergeCreateFilterValues(initialFilters, query.filters)\n        : [])}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(()=>[use_query_params__WEBPACK_IMPORTED_MODULE_3__.Kx,react_table__WEBPACK_IMPORTED_MODULE_2__.useTable]));const filterSelectStyles={container:(e,{getValue:t})=>({...e,minWidth:`${Math.min(12,Math.max(5,3+t()[0].label.length/2))}em`}),control:e=>({...e,borderWidth:0,boxShadow:"none",cursor:"pointer",backgroundColor:"transparent"})};var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(RisonParam,"RisonParam","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(SELECT_WIDTH,"SELECT_WIDTH","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(ListViewError,"ListViewError","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(removeFromList,"removeFromList","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(updateInList,"updateInList","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(mergeCreateFilterValues,"mergeCreateFilterValues","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(convertFilters,"convertFilters","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(convertFiltersRison,"convertFiltersRison","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(extractInputValue,"extractInputValue","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(useListViewState,"useListViewState","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts"),reactHotLoader.register(filterSelectStyles,"filterSelectStyles","/Users/chenming/superset/superset-frontend/src/components/ListView/utils.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}}]);