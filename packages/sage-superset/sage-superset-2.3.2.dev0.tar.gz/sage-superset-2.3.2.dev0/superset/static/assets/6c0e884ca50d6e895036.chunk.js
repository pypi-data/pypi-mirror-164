"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[9137],{125163:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var o,a=r(751995),s=r(455867),l=r(730381),n=r.n(l),c=r(667294),i=r(505977),d=r(473727),u=r(550859),g=r(620755),f=r(414114),p=r(701836),b=r(246714),m=r(34858),Z=r(211965);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const L=a.iK.div`
  display: flex;
  flex-direction: row;

  a,
  Link {
    margin-left: 16px;
    font-size: 12px;
    font-weight: normal;
    text-decoration: underline;
  }
`;function H({addDangerToast:e,isReportEnabled:t}){const{alertId:r}=(0,i.UO)(),{state:{loading:o,resourceCount:a,resourceCollection:l},fetchData:f}=(0,m.Yi)(`report/${r}/log`,(0,s.t)("log"),e,!1),{state:{loading:h,resource:H},fetchResource:G}=(0,m.LE)("report",(0,s.t)("reports"),e);(0,c.useEffect)((()=>{null===r||h||G(r)}),[r]);const v=(0,c.useMemo)((()=>[{Cell:({row:{original:{state:e}}})=>(0,Z.tZ)(b.Z,{state:e,isReportEnabled:t}),accessor:"state",Header:(0,s.t)("State"),size:"xs",disableSortBy:!0},{Cell:({row:{original:{uuid:e}}})=>e?e.slice(0,6):"none",accessor:"uuid",Header:(0,s.t)("Execution ID"),size:"xs",disableSortBy:!0},{Cell:({row:{original:{scheduled_dttm:e}}})=>n()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),accessor:"scheduled_dttm",Header:(0,s.t)("Scheduled at (UTC)")},{Cell:({row:{original:{start_dttm:e}}})=>n()(new Date(e)).format("YYYY-MM-DD hh:mm:ss a"),Header:(0,s.t)("Start at (UTC)"),accessor:"start_dttm"},{Cell:({row:{original:{start_dttm:e,end_dttm:t}}})=>(0,p.zQ)(new Date(e).getTime(),new Date(t).getTime()),Header:(0,s.t)("Duration"),disableSortBy:!0},{accessor:"value",Header:(0,s.t)("Value")},{accessor:"error_message",Header:(0,s.t)("Error message")}]),[t]),C=`/${t?"report":"alert"}/list/`;return(0,Z.tZ)(c.Fragment,null,(0,Z.tZ)(g.Z,{name:(0,Z.tZ)(L,null,(0,Z.tZ)("span",null,null==H?void 0:H.type," ",null==H?void 0:H.name),(0,Z.tZ)("span",null,(0,Z.tZ)(d.rU,{to:C},"Back to all")))}),(0,Z.tZ)(u.Z,{className:"execution-log-list-view",columns:v,count:a,data:l,fetchData:f,initialSort:[{id:"start_dttm",desc:!0}],loading:o,pageSize:25}))}h(H,"useParams{{ alertId }}\nuseListViewResource{{ state: { loading, resourceCount: logCount, resourceCollection: logs }, fetchData, }}\nuseSingleViewResource{{ state: { loading: alertLoading, resource: alertResource }, fetchResource, }}\nuseEffect{}\nuseMemo{columns}",(()=>[i.UO,m.Yi,m.LE]));const G=(0,f.Z)(H),v=G;var C,S;(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(25,"PAGE_SIZE","/Users/chenming/superset/superset-frontend/src/views/CRUD/alert/ExecutionLog.tsx"),C.register(L,"StyledHeader","/Users/chenming/superset/superset-frontend/src/views/CRUD/alert/ExecutionLog.tsx"),C.register(H,"ExecutionLog","/Users/chenming/superset/superset-frontend/src/views/CRUD/alert/ExecutionLog.tsx"),C.register(G,"default","/Users/chenming/superset/superset-frontend/src/views/CRUD/alert/ExecutionLog.tsx")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},246714:(e,t,r)=>{r.d(t,{Z:()=>f});var o,a,s,l=r(751995),n=r(455867),c=(r(667294),r(358593)),i=r(87693),d=r(802849),u=r(211965);function g(e,t,r){switch(e){case d.Z.Working:return r.colors.primary.base;case d.Z.Error:return r.colors.error.base;case d.Z.Success:return t?r.colors.success.base:r.colors.alert.base;case d.Z.Noop:return r.colors.success.base;case d.Z.Grace:return r.colors.alert.base;default:return r.colors.grayscale.base}}function f({state:e,isReportEnabled:t=!1}){const r=(0,l.Fg)(),o={icon:i.Z.Check,label:"",status:""};switch(e){case d.Z.Success:o.icon=t?i.Z.Check:i.Z.AlertSolidSmall,o.label=t?(0,n.t)("Report sent"):(0,n.t)("Alert triggered, notification sent"),o.status=d.Z.Success;break;case d.Z.Working:o.icon=i.Z.Running,o.label=t?(0,n.t)("Report sending"):(0,n.t)("Alert running"),o.status=d.Z.Working;break;case d.Z.Error:o.icon=i.Z.XSmall,o.label=t?(0,n.t)("Report failed"):(0,n.t)("Alert failed"),o.status=d.Z.Error;break;case d.Z.Noop:o.icon=i.Z.Check,o.label=(0,n.t)("Nothing triggered"),o.status=d.Z.Noop;break;case d.Z.Grace:o.icon=i.Z.AlertSolidSmall,o.label=(0,n.t)("Alert Triggered, In Grace Period"),o.status=d.Z.Grace;break;default:o.icon=i.Z.Check,o.label=(0,n.t)("Nothing triggered"),o.status=d.Z.Noop}const a=o.icon;return(0,u.tZ)(c.u,{title:o.label,placement:"bottomLeft"},(0,u.tZ)(a,{iconColor:g(o.status,t,r)}))}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useTheme{theme}",(()=>[l.Fg])),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(g,"getStatusColor","/Users/chenming/superset/superset-frontend/src/views/CRUD/alert/components/AlertStatusIcon.tsx"),a.register(f,"AlertStatusIcon","/Users/chenming/superset/superset-frontend/src/views/CRUD/alert/components/AlertStatusIcon.tsx")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},802849:(e,t,r)=>{var o,a,s,l,n;r.d(t,{Z:()=>a,u:()=>s}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,function(e){e.Success="Success",e.Working="Working",e.Error="Error",e.Noop="Not triggered",e.Grace="On Grace"}(a||(a={})),function(e){e.Email="Email",e.Slack="Slack"}(s||(s={})),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(a,"AlertState","/Users/chenming/superset/superset-frontend/src/views/CRUD/alert/types.ts"),l.register(s,"RecipientIconName","/Users/chenming/superset/superset-frontend/src/views/CRUD/alert/types.ts")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}}]);