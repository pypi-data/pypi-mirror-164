"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[6360],{251237:(e,r,t)=>{var o;t.d(r,{Z:()=>n}),e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=function(e,r){return e<r?-1:e>r?1:e>=r?0:NaN},n=a;var s,l;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(a,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/ascending.js"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},785405:(e,r,t)=>{t.d(r,{ZP:()=>c});var o,a=t(251237),n=t(634400),s=t(542571);e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=(0,n.Z)(a.Z),_=l.right,d=l.left,i=(0,n.Z)(s.Z).center,u=_,c=u;var p,f;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(l,"ascendingBisect","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/bisect.js"),p.register(_,"bisectRight","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/bisect.js"),p.register(d,"bisectLeft","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/bisect.js"),p.register(i,"bisectCenter","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/bisect.js"),p.register(u,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/bisect.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},634400:(e,r,t)=>{t.d(r,{Z:()=>s});var o,a=t(251237);e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=function(e){let r=e,t=e;function o(e,r,o,a){for(null==o&&(o=0),null==a&&(a=e.length);o<a;){const n=o+a>>>1;t(e[n],r)<0?o=n+1:a=n}return o}return 1===e.length&&(r=(r,t)=>e(r)-t,t=l(e)),{left:o,center:function(e,t,a,n){null==a&&(a=0),null==n&&(n=e.length);const s=o(e,t,a,n-1);return s>a&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,o,a){for(null==o&&(o=0),null==a&&(a=e.length);o<a;){const n=o+a>>>1;t(e[n],r)>0?a=n:o=n+1}return o}}},s=n;function l(e){return(r,t)=>(0,a.Z)(e(r),t)}var _,d;(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(l,"ascendingComparator","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/bisector.js"),_.register(n,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/bisector.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},447734:(e,r,t)=>{var o;t.d(r,{Z:()=>n}),e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=function(e,r){let t,o;if(void 0===r)for(const r of e)null!=r&&(void 0===t?r>=r&&(t=o=r):(t>r&&(t=r),o<r&&(o=r)));else{let a=-1;for(let n of e)null!=(n=r(n,++a,e))&&(void 0===t?n>=n&&(t=o=n):(t>n&&(t=n),o<n&&(o=n)))}return[t,o]},n=a;var s,l;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(a,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/extent.js"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},542571:(e,r,t)=>{var o;t.d(r,{Z:()=>n}),e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=function(e){return null===e?NaN:+e},n=a;var s,l;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register((function*(e,r){if(void 0===r)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let t=-1;for(let o of e)null!=(o=r(o,++t,e))&&(o=+o)>=o&&(yield o)}}),"numbers","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/number.js"),s.register(a,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/number.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},257765:(e,r,t)=>{var o;t.d(r,{ZP:()=>_,G9:()=>d,ly:()=>i}),e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=Math.sqrt(50),n=Math.sqrt(10),s=Math.sqrt(2);const l=function(e,r,t){var o,a,n,s,l=-1;if(t=+t,(e=+e)==(r=+r)&&t>0)return[e];if((o=r<e)&&(a=e,e=r,r=a),0===(s=d(e,r,t))||!isFinite(s))return[];if(s>0){let t=Math.round(e/s),o=Math.round(r/s);for(t*s<e&&++t,o*s>r&&--o,n=new Array(a=o-t+1);++l<a;)n[l]=(t+l)*s}else{s=-s;let t=Math.round(e*s),o=Math.round(r*s);for(t/s<e&&++t,o/s>r&&--o,n=new Array(a=o-t+1);++l<a;)n[l]=(t+l)/s}return o&&n.reverse(),n},_=l;function d(e,r,t){var o=(r-e)/Math.max(0,t),l=Math.floor(Math.log(o)/Math.LN10),_=o/Math.pow(10,l);return l>=0?(_>=a?10:_>=n?5:_>=s?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(_>=a?10:_>=n?5:_>=s?2:1)}function i(e,r,t){var o=Math.abs(r-e)/Math.max(0,t),l=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),_=o/l;return _>=a?l*=10:_>=n?l*=5:_>=s&&(l*=2),r<e?-l:l}var u,c;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(a,"e10","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/ticks.js"),u.register(n,"e5","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/ticks.js"),u.register(s,"e2","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/ticks.js"),u.register(d,"tickIncrement","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/ticks.js"),u.register(i,"tickStep","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/ticks.js"),u.register(l,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-array/src/ticks.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},966521:(e,r,t)=>{var o,a,n;function s(e){return function(){return e}}t.d(r,{Z:()=>s}),e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"constants","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/constant.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},487212:(e,r,t)=>{t.d(r,{JG:()=>M,ZP:()=>E});var o,a=t(785405),n=t(515744),s=t(873626),l=t(655720),_=t(966521),d=t(300857);e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,u,c=[0,1];function p(e){return e}function f(e,r){return(r-=e=+e)?function(t){return(t-e)/r}:(0,_.Z)(isNaN(r)?NaN:.5)}function g(e,r){var t;return e>r&&(t=e,e=r,r=t),function(t){return Math.max(e,Math.min(r,t))}}function h(e,r,t){var o=e[0],a=e[1],n=r[0],s=r[1];return a<o?(o=f(a,o),n=t(s,n)):(o=f(o,a),n=t(n,s)),function(e){return n(o(e))}}function y(e,r,t){var o=Math.min(e.length,r.length)-1,n=new Array(o),s=new Array(o),l=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++l<o;)n[l]=f(e[l],e[l+1]),s[l]=t(r[l],r[l+1]);return function(r){var t=(0,a.ZP)(e,r,1,o)-1;return s[t](n[t](r))}}function M(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function L(){var e,r,t,o,a,_,i=c,u=c,f=n.Z,M=p;function L(){var e=Math.min(i.length,u.length);return M!==p&&(M=g(i[0],i[e-1])),o=e>2?y:h,a=_=null,E}function E(r){return null==r||isNaN(r=+r)?t:(a||(a=o(i.map(e),u,f)))(e(M(r)))}return E.invert=function(t){return M(r((_||(_=o(u,i.map(e),s.Z)))(t)))},E.domain=function(e){return arguments.length?(i=Array.from(e,d.Z),L()):i.slice()},E.range=function(e){return arguments.length?(u=Array.from(e),L()):u.slice()},E.rangeRound=function(e){return u=Array.from(e),f=l.Z,L()},E.clamp=function(e){return arguments.length?(M=!!e||p,L()):M!==p},E.interpolate=function(e){return arguments.length?(f=e,L()):f},E.unknown=function(e){return arguments.length?(t=e,E):t},function(t,o){return e=t,r=o,L()}}function E(){return L()(p,p)}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"unit","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js"),i.register(p,"identity","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js"),i.register(f,"normalize","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js"),i.register(g,"clamper","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js"),i.register(h,"bimap","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js"),i.register(y,"polymap","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js"),i.register(M,"copy","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js"),i.register(L,"transformer","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js"),i.register(E,"continuous","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/continuous.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},916294:(e,r,t)=>{var o,a,n;function s(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e)}return this}t.d(r,{o:()=>s}),e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(s,"initRange","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/init.js"),a.register((function(e,r){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof r?this.interpolator(r):this.range(r)}return this}),"initInterpolator","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/init.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},495990:(e,r,t)=>{t.d(r,{Z:()=>u});var o,a,n,s=t(257765),l=t(487212),_=t(916294),d=t(466575);function i(e){var r=e.domain;return e.ticks=function(e){var t=r();return(0,s.ZP)(t[0],t[t.length-1],null==e?10:e)},e.tickFormat=function(e,t){var o=r();return(0,d.Z)(o[0],o[o.length-1],null==e?10:e,t)},e.nice=function(t){null==t&&(t=10);var o,a,n=r(),l=0,_=n.length-1,d=n[l],i=n[_],u=10;for(i<d&&(a=d,d=i,i=a,a=l,l=_,_=a);u-- >0;){if((a=(0,s.G9)(d,i,t))===o)return n[l]=d,n[_]=i,r(n);if(a>0)d=Math.floor(d/a)*a,i=Math.ceil(i/a)*a;else{if(!(a<0))break;d=Math.ceil(d*a)/a,i=Math.floor(i*a)/a}o=a}return e},e}function u(){var e=(0,l.ZP)();return e.copy=function(){return(0,l.JG)(e,u())},_.o.apply(e,arguments),i(e)}e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(i,"linearish","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/linear.js"),a.register(u,"linear","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/linear.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},300857:(e,r,t)=>{var o,a,n;function s(e){return+e}t.d(r,{Z:()=>s}),e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"number","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/number.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},466575:(e,r,t)=>{t.d(r,{Z:()=>_});var o,a,n,s=t(257765),l=t(516722);function _(e,r,t,o){var a,n=(0,s.ly)(e,r,t);switch((o=(0,l.YQ)(null==o?",f":o)).type){case"s":var _=Math.max(Math.abs(e),Math.abs(r));return null!=o.precision||isNaN(a=(0,l.S5)(n,_))||(o.precision=a),(0,l.jH)(o,_);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(a=(0,l.F0)(n,Math.max(Math.abs(e),Math.abs(r))))||(o.precision=a-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(a=(0,l.zB)(n))||(o.precision=a-2*("%"===o.type))}return(0,l.WU)(o)}e=t.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(_,"tickFormat","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/node_modules/d3-scale/src/tickFormat.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},606360:(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(667294),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),d3_array__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(447734),_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(355786),_HorizonRow__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(194256),_HorizonChart_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(141425),_emotion_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(211965),enterModule;module=__webpack_require__.hmd(module),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,width:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,height:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,seriesHeight:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,data:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({key:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),values:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({y:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number}))})).isRequired,bands:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,colors:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),colorScale:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,mode:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,offsetX:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number},defaultProps={className:"",width:800,height:600,seriesHeight:20,bands:Math.floor(_HorizonRow__WEBPACK_IMPORTED_MODULE_3__.Q.length/2),colors:_HorizonRow__WEBPACK_IMPORTED_MODULE_3__.Q,colorScale:"series",mode:"offset",offsetX:0};class HorizonChart extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{render(){const{className:e,width:r,height:t,data:o,seriesHeight:a,bands:n,colors:s,colorScale:l,mode:_,offsetX:d}=this.props;let i;if("overall"===l){const e=o.reduce(((e,r)=>e.concat(r.values)),[]);i=(0,d3_array__WEBPACK_IMPORTED_MODULE_4__.Z)(e,(e=>e.y))}return(0,_emotion_react__WEBPACK_IMPORTED_MODULE_5__.tZ)("div",{className:`superset-legacy-chart-horizon ${e}`,style:{height:t}},o.map((e=>(0,_emotion_react__WEBPACK_IMPORTED_MODULE_5__.tZ)(_HorizonRow__WEBPACK_IMPORTED_MODULE_3__.Z,{key:e.key,width:r,height:a,title:(0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__.Z)(e.key).join(", "),data:e.values,bands:n,colors:s,colorScale:l,mode:_,offsetX:d,yDomain:i}))))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}HorizonChart.propTypes=propTypes,HorizonChart.defaultProps=defaultProps;const _default=HorizonChart,__WEBPACK_DEFAULT_EXPORT__=_default;var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(propTypes,"propTypes","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonChart.jsx"),reactHotLoader.register(defaultProps,"defaultProps","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonChart.jsx"),reactHotLoader.register(HorizonChart,"HorizonChart","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonChart.jsx"),reactHotLoader.register(_default,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonChart.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)},194256:(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>DEFAULT_COLORS,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(667294),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(45697),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),d3_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(447734),d3_scale__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(495990),_emotion_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(211965),enterModule;module=__webpack_require__.hmd(module),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const DEFAULT_COLORS=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"],propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,width:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,height:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,data:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({y:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number})).isRequired,bands:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,colors:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),colorScale:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,mode:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,offsetX:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,title:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,yDomain:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().number)},defaultProps={className:"",width:800,height:20,bands:DEFAULT_COLORS.length>>1,colors:DEFAULT_COLORS,colorScale:"series",mode:"offset",offsetX:0,title:"",yDomain:void 0};class HorizonRow extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{componentDidMount(){this.drawChart()}componentDidUpdate(){this.drawChart()}componentWillUnmount(){this.canvas=null}drawChart(){if(this.canvas){const{data:e,yDomain:r,width:t,height:o,bands:a,colors:n,colorScale:s,offsetX:l,mode:_}=this.props,d="change"===s?e.map((r=>({...r,y:r.y-e[0].y}))):e,i=this.canvas.getContext("2d");i.imageSmoothingEnabled=!1,i.clearRect(0,0,t,o),i.setTransform(1,0,0,1,0,0),i.translate(.5,.5);const u=t/d.length,c=Math.floor(Math.max(0,-l/u)),p=Math.floor(Math.min(d.length,c+t/u));if(c>d.length)return;const[f,g]=r||(0,d3_array__WEBPACK_IMPORTED_MODULE_2__.Z)(d,(e=>e.y)),h=(0,d3_scale__WEBPACK_IMPORTED_MODULE_3__.Z)().domain([0,Math.max(-f,g)]).range([0,o]);let y,M,L=!1;for(let e=0;e<a;e+=1){i.fillStyle=n[a+e],M=(e+1-a)*o,h.range([a*o+M,M]);for(let e=c;e<p;e+=1)y=d[e].y,y<=0?L=!0:void 0!==y&&i.fillRect(l+e*u,h(y),u+1,h(0)-h(y))}if(L){"offset"===_&&(i.translate(0,o),i.scale(1,-1));for(let e=0;e<a;e+=1){i.fillStyle=n[a-e-1],M=(e+1-a)*o,h.range([a*o+M,M]);for(let e=c;e<p;e+=1)y=d[e].y,y>=0||i.fillRect(l+e*u,h(-y),u+1,h(0)-h(-y))}}}}render(){const{className:e,title:r,width:t,height:o}=this.props;return(0,_emotion_react__WEBPACK_IMPORTED_MODULE_4__.tZ)("div",{className:`horizon-row ${e}`},(0,_emotion_react__WEBPACK_IMPORTED_MODULE_4__.tZ)("span",{className:"title"},r),(0,_emotion_react__WEBPACK_IMPORTED_MODULE_4__.tZ)("canvas",{ref:e=>{this.canvas=e},width:t,height:o}))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}HorizonRow.propTypes=propTypes,HorizonRow.defaultProps=defaultProps;const _default=HorizonRow,__WEBPACK_DEFAULT_EXPORT__=_default;var reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(DEFAULT_COLORS,"DEFAULT_COLORS","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonRow.jsx"),reactHotLoader.register(propTypes,"propTypes","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonRow.jsx"),reactHotLoader.register(defaultProps,"defaultProps","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonRow.jsx"),reactHotLoader.register(HorizonRow,"HorizonRow","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonRow.jsx"),reactHotLoader.register(_default,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-horizon/src/HorizonRow.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)},141425:()=>{}}]);