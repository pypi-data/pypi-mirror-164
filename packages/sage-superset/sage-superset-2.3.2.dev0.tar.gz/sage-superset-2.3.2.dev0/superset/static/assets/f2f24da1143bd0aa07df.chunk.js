"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[681],{664065:(e,t,n)=>{n.d(t,{Z:()=>m});var r,a=n(615078),i=n.n(a),o=n(45697),s=n.n(o),l=n(45511),u=n(709742),d=n(724468);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c={data:s().arrayOf(s().object),width:s().number,height:s().number,colorMetric:s().string,includeSeries:s().bool,linearColorScheme:s().string,metrics:s().arrayOf(s().string),series:s().string,showDatatable:s().bool};function h(e,t){const{data:n,width:r,height:a,colorMetric:o,includeSeries:s,linearColorScheme:c,metrics:h,series:f,showDatatable:m}=t,p=s?[f].concat(h):h,g={};g[f]="string",h.forEach((e=>{g[e]="number"}));const v=o?(0,l.Z)().get(c).createLinearScale(i().extent(n,(e=>e[o]))):()=>"grey",b=i().select(e).classed("superset-legacy-chart-parallel-coordinates",!0);b.selectAll("*").remove();const y=m?a/2:a,x=b.append("div").style("height",`${y}px`).classed("parcoords",!0),A=(0,u.Z)()(x.node()).width(r).color((e=>v(e[o]))).alpha(.5).composite("darken").height(y).data(n).dimensions(p).types(g).render().createAxes().shadows().reorderable().brushMode("1D-axes");if(m){const e=(0,d.Z)();b.append("div").style("height",`${y}px`).datum(n).call(e).classed("parcoords grid",!0).selectAll(".row").on({mouseover(e){A.highlight([e])},mouseout:A.unhighlight}),A.on("brush",(t=>{i().select(".grid").datum(t).call(e).selectAll(".row").on({mouseover(e){A.highlight([e])},mouseout:A.unhighlight})}))}}h.displayName="ParallelCoordinates",h.propTypes=c;const f=h,m=f;var p,g;(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(c,"propTypes","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ParallelCoordinates.js"),p.register(h,"ParallelCoordinates","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ParallelCoordinates.js"),p.register(f,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ParallelCoordinates.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},840681:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f}),n(667294);var r,a=n(943323),i=n(751995),o=n(45697),s=n.n(o),l=n(664065),u=n(211965);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=(0,a.Z)(l.Z),c=({className:e,...t})=>(0,u.tZ)("div",{className:e},(0,u.tZ)(d,t));c.propTypes={className:s().string.isRequired};const h=(0,i.iK)(c)`
  .superset-legacy-chart-parallel-coordinates {
    div.grid {
      overflow: auto;
      div.row {
        &:hover {
          background-color: #ccc;
        }
      }
    }
  }
`,f=h;var m,p;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(d,"ReactComponent","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ReactParallelCoordinates.jsx"),m.register(c,"ParallelCoordianes","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ReactParallelCoordinates.jsx"),m.register(h,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ReactParallelCoordinates.jsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},709742:(e,t,n)=>{var r;n.d(t,{Z:()=>i}),e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=function(e){var t={data:[],highlighted:[],dimensions:[],dimensionTitles:{},dimensionTitleRotation:0,types:{},brushed:!1,brushedColor:null,alphaOnBrushed:0,mode:"default",rate:20,width:600,height:300,margin:{top:24,right:0,bottom:12,left:0},nullValueSeparator:"undefined",nullValueSeparatorPadding:{top:8,right:0,bottom:8,left:0},color:"#069",composite:"source-over",alpha:.7,bundlingStrength:.5,bundleDimension:null,smoothness:0,showControlPoints:!1,hideAxis:[]};!function(e,t){for(var n in t)e[n]=t[n]}(t,e);var n,r=function(e){return e=r.selection=d3.select(e),t.width=e[0][0].clientWidth,t.height=e[0][0].clientHeight,["marks","foreground","brushed","highlight"].forEach((function(t){f[t]=e.append("canvas").attr("class",t)[0][0],h[t]=f[t].getContext("2d")})),r.svg=e.append("svg").attr("width",t.width).attr("height",t.height).append("svg:g").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),r},a=d3.dispatch.apply(this,["render","resize","highlight","brush","brushend","axesreorder"].concat(d3.keys(t))),i=function(){return t.width-t.margin.right-t.margin.left},o=function(){return t.height-t.margin.top-t.margin.bottom},s={brushable:!1,reorderable:!1,axes:!1,interactive:!1,debug:!1},l=d3.scale.ordinal(),u={},d={},c=(d3.svg.line(),d3.svg.axis().orient("left").ticks(5)),h={},f={},m=d3.dispatch.apply(this,d3.keys(t)).on("composite",(function(e){h.foreground.globalCompositeOperation=e.value,h.brushed.globalCompositeOperation=e.value})).on("alpha",(function(e){h.foreground.globalAlpha=e.value,h.brushed.globalAlpha=e.value})).on("brushedColor",(function(e){h.brushed.strokeStyle=e.value})).on("width",(function(e){r.resize()})).on("height",(function(e){r.resize()})).on("margin",(function(e){r.resize()})).on("rate",(function(e){b.rate(e.value),v.rate(e.value)})).on("dimensions",(function(e){l.domain(t.dimensions),s.interactive&&r.render().updateAxes()})).on("bundleDimension",(function(e){t.dimensions.length||r.detectDimensions(),t.dimensions[0]in u||r.autoscale(),"number"==typeof e.value?e.value<t.dimensions.length?t.bundleDimension=t.dimensions[e.value]:e.value<t.hideAxis.length&&(t.bundleDimension=t.hideAxis[e.value]):t.bundleDimension=e.value,t.clusterCentroids=function(e){var n=d3.map(),r=d3.map();return t.data.forEach((function(t){var n=u[e](t[e]);r.has(n)||r.set(n,0);var a=r.get(n);r.set(n,a+1)})),t.data.forEach((function(a){t.dimensions.map((function(t,i){var o=u[e](a[e]);if(!n.has(o)){var s=d3.map();n.set(o,s)}n.get(o).has(t)||n.get(o).set(t,0);var l=n.get(o).get(t);l+=u[t](a[t])/r.get(o),n.get(o).set(t,l)}))})),n}(t.bundleDimension)})).on("hideAxis",(function(e){var n,a;t.dimensions.length||r.detectDimensions(),r.dimensions((n=t.dimensions,a=e.value,n.filter((function(e){return-1===a.indexOf(e)}))))}));function p(){return"bottom"==t.nullValueSeparator?[o()+1-t.nullValueSeparatorPadding.bottom-t.nullValueSeparatorPadding.top,1]:"top"==t.nullValueSeparator?[o()+1,1+t.nullValueSeparatorPadding.bottom+t.nullValueSeparatorPadding.top]:[o()+1,1]}function g(){if(t.brushed&&t.brushed.length!==t.data.length)return!0;var e=C.currentMode().brushState();for(var n in e)if(e.hasOwnProperty(n))return!0;return!1}r.state=t,r.flags=s,function(e,t,n){d3.keys(t).forEach((function(a){e[a]=function(i){if(!arguments.length)return t[a];var o=t[a];return t[a]=i,m[a].call(r,{value:i,previous:o}),n[a].call(r,{value:i,previous:o}),e}}))}(r,t,a),d3.rebind(r,a,"on"),r.autoscale=function(){var e={date:function(e){var n=d3.extent(t.data,(function(t){return t[e]?t[e].getTime():null}));return n[0]===n[1]?d3.scale.ordinal().domain([n[0]]).rangePoints(p()):d3.time.scale().domain(n).range(p())},number:function(e){var n=d3.extent(t.data,(function(t){return+t[e]}));return n[0]===n[1]?d3.scale.ordinal().domain([n[0]]).rangePoints(p()):d3.scale.linear().domain(n).range(p())},string:function(e){var n,r={};return t.data.map((function(n){void 0===n[e]&&"undefined"!==t.nullValueSeparator||(void 0===r[n[e]]?r[n[e]]=1:r[n[e]]=r[n[e]]+1)})),n=Object.getOwnPropertyNames(r).sort((function(e,t){return r[e]-r[t]})),d3.scale.ordinal().domain(n).rangePoints(p())}};return t.dimensions.forEach((function(n){u[n]=e[t.types[n]](n)})),t.hideAxis.forEach((function(n){u[n]=e[t.types[n]](n)})),l.rangePoints([0,i()],1),r.selection.selectAll("canvas").style("margin-top",t.margin.top+"px").style("margin-left",t.margin.left+"px").attr("width",i()+2).attr("height",o()+2),h.foreground.strokeStyle=t.color,h.foreground.lineWidth=1.4,h.foreground.globalCompositeOperation=t.composite,h.foreground.globalAlpha=t.alpha,h.brushed.strokeStyle=t.brushedColor,h.brushed.lineWidth=1.4,h.brushed.globalCompositeOperation=t.composite,h.brushed.globalAlpha=t.alpha,h.highlight.lineWidth=3,this},r.scale=function(e,t){return u[e].domain(t),this},r.flip=function(e){return u[e].domain(u[e].domain().reverse()),this},r.commonScale=function(e,n){var a=n||"number";void 0===e&&(e=!0);var i=t.dimensions.concat(t.hideAxis).filter((function(e){return t.types[e]==a}));if(e){var o=d3.extent(i.map((function(e,t){return u[e].domain()})).reduce((function(e,t){return e.concat(t)})));i.forEach((function(e){u[e].domain(o)}))}else i.forEach((function(e){u[e].domain(d3.extent(t.data,(function(t){return+t[e]})))}));return null!==t.bundleDimension&&r.bundleDimension(t.bundleDimension),this},r.detectDimensions=function(){return r.types(r.detectDimensionTypes(t.data)),r.dimensions(d3.keys(r.types())),this},r.toType=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},r.toTypeCoerceNumbers=function(e){return parseFloat(e)==e&&null!=e?"number":r.toType(e)},r.detectDimensionTypes=function(e){var t={};return d3.keys(e[0]).forEach((function(n){t[n]=r.toTypeCoerceNumbers(e[0][n])})),t},r.render=function(){return t.dimensions.length||r.detectDimensions(),t.dimensions[0]in u||r.autoscale(),r.render[t.mode](),a.render.call(this),this},r.renderBrushed=function(){return t.dimensions.length||r.detectDimensions(),t.dimensions[0]in u||r.autoscale(),r.renderBrushed[t.mode](),a.render.call(this),this},r.render.default=function(){r.clear("foreground"),r.clear("highlight"),r.renderBrushed.default(),t.data.forEach(_)};var v=d3.renderQueue(_).rate(50).clear((function(){r.clear("foreground"),r.clear("highlight")}));r.render.queue=function(){r.renderBrushed.queue(),v(t.data)},r.renderBrushed.default=function(){r.clear("brushed"),g()&&t.brushed.forEach(A)};var b=d3.renderQueue(A).rate(50).clear((function(){r.clear("brushed")}));function y(e,n){n.beginPath(),null!==t.bundleDimension&&t.bundlingStrength>0||t.smoothness>0?function(e,n){var r=function(e){for(var n=[],r=t.dimensions,a=r.length,i=0;i<a;++i){var o=R(r[i]),s=u[r[i]](e[r[i]]);if(n.push($V([o,s])),i<a-1){var l=o+.5*(R(r[i+1])-o),d=s+.5*(u[r[i+1]](e[r[i+1]])-s);if(null!==t.bundleDimension){var c=.5*(t.clusterCentroids.get(u[t.bundleDimension](e[t.bundleDimension])).get(r[i])+t.clusterCentroids.get(u[t.bundleDimension](e[t.bundleDimension])).get(r[i+1]));d=c+(1-t.bundlingStrength)*(d-c)}n.push($V([l,d]))}}return n}(e),a=function(e){var n=e.length,r=t.smoothness,a=[];a.push(e[0]),a.push($V([e[0].e(1)+2*r*(e[1].e(1)-e[0].e(1)),e[0].e(2)]));for(var i=1;i<n-1;++i){var o=e[i],s=e[i-1],l=e[i+1],u=s.subtract(l);a.push(o.add(u.x(r))),a.push(o),a.push(o.subtract(u.x(r)))}return a.push($V([e[n-1].e(1)+2*r*(e[n-2].e(1)-e[n-1].e(1)),e[n-1].e(2)])),a.push(e[n-1]),a}(r);n.moveTo(a[0].e(1),a[0].e(2));for(var i=1;i<a.length;i+=3){if(t.showControlPoints)for(var o=0;o<3;o+=1)n.fillRect(a[i+o].e(1),a[i+o].e(2),2,2);n.bezierCurveTo(a[i].e(1),a[i].e(2),a[i+1].e(1),a[i+1].e(2),a[i+2].e(1),a[i+2].e(2))}}(e,n):function(e,n){t.dimensions.map((function(t,r){0==r?n.moveTo(R(t),void 0===e[t]?x():u[t](e[t])):n.lineTo(R(t),void 0===e[t]?x():u[t](e[t]))}))}(e,n),n.stroke()}function x(){return"bottom"==t.nullValueSeparator?o()+1:"top"==t.nullValueSeparator?1:(console.log("A value is NULL, but nullValueSeparator is not set; set it to 'bottom' or 'top'."),o()+1)}function A(e,n){return null!==t.brushedColor?h.brushed.strokeStyle=d3.functor(t.brushedColor)(e,n):h.brushed.strokeStyle=d3.functor(t.color)(e,n),y(e,h.brushed)}function _(e,n){return h.foreground.strokeStyle=d3.functor(t.color)(e,n),y(e,h.foreground)}function M(e,n){return h.highlight.strokeStyle=d3.functor(t.color)(e,n),y(e,h.highlight)}function w(e){r.svg.selectAll(".dimension"),r.flip(e),d3.select(this.parentElement).transition().duration(1100).call(c.scale(u[e])),r.render()}function P(){var e=d3.event.deltaY;e=(e=e<0?-5:e)>0?5:e,t.dimensionTitleRotation+=e,r.svg.selectAll("text.label").attr("transform","translate(0,-5) rotate("+t.dimensionTitleRotation+")"),d3.event.preventDefault()}function k(e){return e in t.dimensionTitles?t.dimensionTitles[e]:e}r.renderBrushed.queue=function(){g()?b(t.brushed):b([])},r.shadows=function(){return s.shadows=!0,r.alphaOnBrushed(.1),r.render(),this},r.axisDots=function(e){e=e||.1;var n=r.ctx.marks,a=2*Math.PI;return n.globalAlpha=d3.min([1/Math.pow(t.data.length,.5),1]),t.data.forEach((function(r){t.dimensions.map((function(t,i){n.beginPath(),n.arc(R(t),u[t](r[t]),e,0,a),n.stroke(),n.fill()}))})),this},r.clear=function(e){return h[e].clearRect(0,0,i()+2,o()+2),"brushed"===e&&g()&&(h.brushed.fillStyle=r.selection.style("background-color"),h.brushed.globalAlpha=1-t.alphaOnBrushed,h.brushed.fillRect(0,0,i()+2,o()+2),h.brushed.globalAlpha=t.alpha),this},d3.rebind(r,c,"ticks","orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),r.createAxes=function(){return n&&r.removeAxes(),(n=r.svg.selectAll(".dimension").data(t.dimensions,(function(e){return e})).enter().append("svg:g").attr("class","dimension").attr("transform",(function(e){return"translate("+l(e)+")"}))).append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each((function(e){d3.select(this).call(c.scale(u[e]))})).append("svg:text").attr({"text-anchor":"middle",y:0,transform:"translate(0,-5) rotate("+t.dimensionTitleRotation+")",x:0,class:"label"}).text(k).on("dblclick",w).on("wheel",P),"top"==t.nullValueSeparator?r.svg.append("line").attr("x1",0).attr("y1",1+t.nullValueSeparatorPadding.top).attr("x2",i()).attr("y2",1+t.nullValueSeparatorPadding.top).attr("stroke-width",1).attr("stroke","#777").attr("fill","none").attr("shape-rendering","crispEdges"):"bottom"==t.nullValueSeparator&&r.svg.append("line").attr("x1",0).attr("y1",o()+1-t.nullValueSeparatorPadding.bottom).attr("x2",i()).attr("y2",o()+1-t.nullValueSeparatorPadding.bottom).attr("stroke-width",1).attr("stroke","#777").attr("fill","none").attr("shape-rendering","crispEdges"),s.axes=!0,this},r.removeAxes=function(){return n.remove(),this},r.updateAxes=function(){var e=r.svg.selectAll(".dimension").data(t.dimensions);if(e.enter().append("svg:g").attr("class","dimension").attr("transform",(function(e){return"translate("+R(e)+")"})).style("opacity",0).append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each((function(e){d3.select(this).call(c.scale(u[e]))})).append("svg:text").attr({"text-anchor":"middle",y:0,transform:"translate(0,-5) rotate("+t.dimensionTitleRotation+")",x:0,class:"label"}).text(k).on("dblclick",w).on("wheel",P),e.attr("opacity",0),e.select(".axis").transition().duration(1100).each((function(e){d3.select(this).call(c.scale(u[e]))})),e.select(".label").transition().duration(1100).text(k).attr("transform","translate(0,-5) rotate("+t.dimensionTitleRotation+")"),e.exit().remove(),(n=r.svg.selectAll(".dimension")).transition().duration(1100).attr("transform",(function(e){return"translate("+R(e)+")"})).style("opacity",1),r.svg.selectAll(".axis").transition().duration(1100).each((function(e){d3.select(this).call(c.scale(u[e]))})),s.brushable&&r.brushable(),s.reorderable&&r.reorderable(),"None"!==r.brushMode()){var a=r.brushMode();r.brushMode("None"),r.brushMode(a)}return this},r.reorderable=function(){return n||r.createAxes(),n.style("cursor","move").call(d3.behavior.drag().on("dragstart",(function(e){d[e]=this.__origin__=l(e)})).on("drag",(function(e){d[e]=Math.min(i(),Math.max(0,this.__origin__+=d3.event.dx)),t.dimensions.sort((function(e,t){return R(e)-R(t)})),l.domain(t.dimensions),r.render(),n.attr("transform",(function(e){return"translate("+R(e)+")"}))})).on("dragend",(function(e){for(var n=0,i=t.dimensions.indexOf(e),o=this,s=this.parentElement;null!=(o=o.previousElementSibling);)++n;n!==i&&(a.axesreorder.call(r,t.dimensions),n>i?s.insertBefore(this,s.children[i-1]):i+1<s.children.length?s.insertBefore(this,s.children[i+1]):s.appendChild(this)),delete this.__origin__,delete d[e],d3.select(this).transition().attr("transform","translate("+l(e)+")"),r.render()}))),s.reorderable=!0,this},r.reorder=function(e){var a=t.dimensions.slice(0);t.dimensions.sort((function(t,n){var r=u[t](e[t])-u[n](e[n]);return 0===r?t.localeCompare(n):r}));var i=!1;if(a.some((function(e,n){return i=e!==t.dimensions[n]})),i){l.domain(t.dimensions);var o=t.highlighted.slice(0);r.unhighlight(),n.transition().duration(1500).attr("transform",(function(e){return"translate("+l(e)+")"})),r.render(),0!==o.length&&r.highlight(o)}},r.adjacent_pairs=function(e){for(var t=[],n=0;n<e.length-1;n+=1)t.push([e[n],e[n+1]]);return t};var C={modes:{None:{install:function(e){},uninstall:function(e){},selected:function(){return[]},brushState:function(){return{}}}},mode:"None",predicate:"AND",currentMode:function(){return this.modes[this.mode]}};function L(e){t.brushed=e,a.brush.call(r,t.brushed),r.renderBrushed()}function E(e){if(!arguments.length)return C.predicate;if("AND"!==(e=String(e).toUpperCase())&&"OR"!==e)throw"Invalid predicate "+e;return C.predicate=e,t.brushed=C.currentMode().selected(),r.renderBrushed(),r}function R(e){var t=d[e];return null==t?l(e):t}return r.brushModes=function(){return Object.getOwnPropertyNames(C.modes)},r.brushMode=function(e){if(0===arguments.length)return C.mode;if(-1===r.brushModes().indexOf(e))throw"pc.brushmode: Unsupported brush mode: "+e;return e!==C.mode&&("None"!==C.mode&&r.brushReset(),C.modes[C.mode].uninstall(r),C.mode=e,C.modes[C.mode].install(),"None"===e?delete r.brushPredicate:r.brushPredicate=E),r},function(){var e={};function i(t){return!e[t].empty()}function o(){var n=t.dimensions.filter(i),r=n.map((function(t){return e[t].extent()}));if(0===n.length)return t.data;var a={date:function(e,t,n){return"function"==typeof u[t].rangePoints?r[n][0]<=u[t](e[t])&&u[t](e[t])<=r[n][1]:r[n][0]<=e[t]&&e[t]<=r[n][1]},number:function(e,t,n){return"function"==typeof u[t].rangePoints?r[n][0]<=u[t](e[t])&&u[t](e[t])<=r[n][1]:r[n][0]<=e[t]&&e[t]<=r[n][1]},string:function(e,t,n){return r[n][0]<=u[t](e[t])&&u[t](e[t])<=r[n][1]}};return t.data.filter((function(e){switch(C.predicate){case"AND":return n.every((function(n,r){return a[t.types[n]](e,n,r)}));case"OR":return n.some((function(n,r){return a[t.types[n]](e,n,r)}));default:throw"Unknown brush predicate "+t.brushPredicate}}))}function s(a){if(void 0===a)return a={},t.dimensions.forEach((function(t){var n=e[t];if(void 0!==n&&!n.empty()){var r=n.extent();r.sort(d3.ascending),a[t]=r}})),a;var i={};n.selectAll(".brush").each((function(e){i[e]=d3.select(this)})),t.dimensions.forEach((function(t){if(void 0!==a[t]){var n=e[t];void 0!==n&&(n.extent(a[t]),n(i[t]),n.event(i[t]))}})),r.renderBrushed()}function l(a){return t.brushed=!1,n&&(n.selectAll(".brush").each((function(t){d3.select(this).call(e[t].clear())})),r.renderBrushed()),this}C.modes["1D-axes"]={install:function(){return n||r.createAxes(),n.append("svg:g").attr("class","brush").each((function(n){d3.select(this).call(function(n){var i=d3.svg.brush();return i.y(u[n]).on("brushstart",(function(){null!==d3.event.sourceEvent&&d3.event.sourceEvent.stopPropagation()})).on("brush",(function(){L(o())})).on("brushend",(function(){a.brushend.call(r,t.brushed)})),e[n]=i,i}(n))})).selectAll("rect").style("visibility",null).attr("x",-15).attr("width",30),r.brushExtents=s,r.brushReset=l,r},uninstall:function(){n.selectAll(".brush").remove(),e={},delete r.brushExtents,delete r.brushReset},selected:o,brushState:s}}(),function(){var e,n={};function s(e,t){var n=r.selection.select("svg").select("g#strums"),a=e.dims.i,i=[e.p1,e.p2],o=n.selectAll("line#strum-"+a).data([e]),l=n.selectAll("circle#strum-"+a).data(i),u=d3.behavior.drag();o.enter().append("line").attr("id","strum-"+a).attr("class","strum"),o.attr("x1",(function(e){return e.p1[0]})).attr("y1",(function(e){return e.p1[1]})).attr("x2",(function(e){return e.p2[0]})).attr("y2",(function(e){return e.p2[1]})).attr("stroke","black").attr("stroke-width",2),u.on("drag",(function(t,n){var r=d3.event;e["p"+(n+=1)][0]=Math.min(Math.max(e.minX+1,r.x),e.maxX),e["p"+n][1]=Math.min(Math.max(e.minY,r.y),e.maxY),s(e,n-1)})).on("dragend",f()),l.enter().append("circle").attr("id","strum-"+a).attr("class","strum"),l.attr("cx",(function(e){return e[0]})).attr("cy",(function(e){return e[1]})).attr("r",5).style("opacity",(function(e,n){return void 0!==t&&n===t?.8:0})).on("mouseover",(function(){d3.select(this).style("opacity",.8)})).on("mouseout",(function(){d3.select(this).style("opacity",0)})).call(u)}function d(){return function(){var e=d3.event,r=n[n.active];r.p2[0]=Math.min(Math.max(r.minX+1,e.x-t.margin.left),r.maxX),r.p2[1]=Math.min(Math.max(r.minY,e.y-t.margin.top),r.maxY),s(r,1)}}function c(){var e=Object.getOwnPropertyNames(n),r=t.data;function a(e,t){var r=n[t],a=function(e,t){var n=[e.p1[0]-e.minX,e.p1[1]-e.minX],r=[e.p2[0]-e.minX,e.p2[1]-e.minX],a=1-t/n[0],i=n[1]*(1-a),o=1-t/r[0],s=r[1]*(1-o);return function(e){var t=e[0],n=e[1],r=a*t+i,l=o*t+s;return n>Math.min(r,l)&&n<Math.max(r,l)}}(r,n.width(t)),i=r.dims.left,o=r.dims.right,s=u[i],l=u[o];return a([s(e[i])-r.minX,l(e[o])-r.minX])}return 0===(e=e.filter((function(e){return!isNaN(e)}))).length?r:r.filter((function(n){switch(C.predicate){case"AND":return e.every((function(e){return a(n,e)}));case"OR":return e.some((function(e){return a(n,e)}));default:throw"Unknown brush predicate "+t.brushPredicate}}))}function h(){var e=n[n.active],t=r.selection.select("svg").select("g#strums");delete n[n.active],n.active=void 0,t.selectAll("line#strum-"+e.dims.i).remove(),t.selectAll("circle#strum-"+e.dims.i).remove()}function f(){return function(){var e=t.data,i=n[n.active];i&&i.p1[0]===i.p2[0]&&i.p1[1]===i.p2[1]&&h(),e=c(),n.active=void 0,t.brushed=e,r.renderBrushed(),a.brushend.call(r,t.brushed)}}C.modes["2D-strums"]={install:function(){var a=d3.behavior.drag();n.active=void 0,n.width=function(e){var t=n[e];if(void 0!==t)return t.maxX-t.minX},r.on("axesreorder.strums",(function(){var e=Object.getOwnPropertyNames(n).filter((function(e){return!isNaN(e)}));e.length>0&&(e.forEach((function(e){var r,a,i,o=n[e].dims;n.active=e,r=o.left,a=o.right,i=t.dimensions.length,t.dimensions.some((function(e,n){return e===r&&n+n<i&&t.dimensions[n+1]===a}))||h()})),f()())})),r.selection.select("svg").append("g").attr("id","strums").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),r.brushReset=function(e){return function(){Object.getOwnPropertyNames(e).filter((function(e){return!isNaN(e)})).forEach((function(t){e.active=t,h()})),f()()}}(n),a.on("dragstart",(function(){var r,a,i=d3.mouse(e[0][0]);i[0]=i[0]-t.margin.left,i[1]=i[1]-t.margin.top,r=function(e){var n={i:-1,left:void 0,right:void 0};return t.dimensions.some((function(r,a){if(l(r)<e[0]){var i=t.dimensions[a+1];return n.i=a,n.left=r,n.right=i,!1}return!0})),void 0===n.left?(n.i=0,n.left=t.dimensions[0],n.right=t.dimensions[1]):void 0===n.right&&(n.i=t.dimensions.length-1,n.right=n.left,n.left=t.dimensions[t.dimensions.length-2]),n}(i),a={p1:i,dims:r,minX:l(r.left),maxX:l(r.right),minY:0,maxY:o()},n[r.i]=a,n.active=r.i,a.p1[0]=Math.min(Math.max(a.minX,i[0]),a.maxX),a.p2=a.p1.slice()})).on("drag",d()).on("dragend",f()),e=r.selection.select("svg").insert("rect","g#strums").attr("id","strum-events").attr("x",t.margin.left).attr("y",t.margin.top).attr("width",i()).attr("height",o()+2).style("opacity",0).call(a)},uninstall:function(){r.selection.select("svg").select("g#strums").remove(),r.selection.select("svg").select("rect#strum-events").remove(),r.on("axesreorder.strums",void 0),delete r.brushReset,e=void 0},selected:c,brushState:function(){return n}}}(),function(){if("function"==typeof d3.svg.multibrush){var e={};C.modes["1D-axes-multi"]={install:function(){return n||r.createAxes(),n.append("svg:g").attr("class","brush").each((function(n){d3.select(this).call(function(n){var i=d3.svg.multibrush();return i.y(u[n]).on("brushstart",(function(){null!==d3.event.sourceEvent&&d3.event.sourceEvent.stopPropagation()})).on("brush",(function(){L(o())})).on("brushend",(function(){L(o()),a.brushend.call(r,t.brushed)})).extentAdaption((function(e){e.style("visibility",null).attr("x",-15).attr("width",30)})).resizeAdaption((function(e){e.selectAll("rect").attr("x",-15).attr("width",30)})),e[n]=i,i}(n))})).selectAll("rect").style("visibility",null).attr("x",-15).attr("width",30),r.brushExtents=s,r.brushReset=l,r},uninstall:function(){n.selectAll(".brush").remove(),e={},delete r.brushExtents,delete r.brushReset},selected:o,brushState:s}}function i(t){return!e[t].empty()}function o(){var n=t.dimensions.filter(i),r=n.map((function(t){return e[t].extent()}));if(0===n.length)return t.data;var a={date:function(e,t,n,r){return"function"==typeof u[t].rangePoints?r[0]<=u[t](e[t])&&u[t](e[t])<=r[1]:r[0]<=e[t]&&e[t]<=r[1]},number:function(e,t,n,r){return"function"==typeof u[t].rangePoints?r[0]<=u[t](e[t])&&u[t](e[t])<=r[1]:r[0]<=e[t]&&e[t]<=r[1]},string:function(e,t,n,r){return r[0]<=u[t](e[t])&&u[t](e[t])<=r[1]}};return t.data.filter((function(e){switch(C.predicate){case"AND":return n.every((function(n,i){return r[i].some((function(r){return a[t.types[n]](e,n,i,r)}))}));case"OR":return n.some((function(n,i){return r[i].some((function(r){return a[t.types[n]](e,n,i,r)}))}));default:throw"Unknown brush predicate "+t.brushPredicate}}))}function s(){var n={};return t.dimensions.forEach((function(t){var r=e[t];if(void 0!==r&&!r.empty()){var a=r.extent();n[t]=a}})),n}function l(a){return t.brushed=!1,n&&(n.selectAll(".brush").each((function(t){d3.select(this).call(e[t].clear())})),r.renderBrushed()),this}}(),function(){var e,n={};function s(e,t){var a=r.selection.select("svg").select("g#arcs"),i=e.dims.i,o=[e.p2,e.p3],l=a.selectAll("line#arc-"+i).data([{p1:e.p1,p2:e.p2},{p1:e.p1,p2:e.p3}]),u=a.selectAll("circle#arc-"+i).data(o),d=d3.behavior.drag(),c=a.selectAll("path#arc-"+i).data([e]);c.enter().append("path").attr("id","arc-"+i).attr("class","arc").style("fill","orange").style("opacity",.5),c.attr("d",e.arc).attr("transform","translate("+e.p1[0]+","+e.p1[1]+")"),l.enter().append("line").attr("id","arc-"+i).attr("class","arc"),l.attr("x1",(function(e){return e.p1[0]})).attr("y1",(function(e){return e.p1[1]})).attr("x2",(function(e){return e.p2[0]})).attr("y2",(function(e){return e.p2[1]})).attr("stroke","black").attr("stroke-width",2),d.on("drag",(function(t,r){var a,o=d3.event;e["p"+(r+=2)][0]=Math.min(Math.max(e.minX+1,o.x),e.maxX),e["p"+r][1]=Math.min(Math.max(e.minY,o.y),e.maxY),a=3===r?n.startAngle(i):n.endAngle(i),(e.startAngle<Math.PI&&e.endAngle<Math.PI&&a<Math.PI||e.startAngle>=Math.PI&&e.endAngle>=Math.PI&&a>=Math.PI)&&(2===r?(e.endAngle=a,e.arc.endAngle(a)):3===r&&(e.startAngle=a,e.arc.startAngle(a))),s(e,r-2)})).on("dragend",p()),u.enter().append("circle").attr("id","arc-"+i).attr("class","arc"),u.attr("cx",(function(e){return e[0]})).attr("cy",(function(e){return e[1]})).attr("r",5).style("opacity",(function(e,n){return void 0!==t&&n===t?.8:0})).on("mouseover",(function(){d3.select(this).style("opacity",.8)})).on("mouseout",(function(){d3.select(this).style("opacity",0)})).call(d)}function d(){return function(){var e=d3.event,r=n[n.active];r.p2[0]=Math.min(Math.max(r.minX+1,e.x-t.margin.left),r.maxX),r.p2[1]=Math.min(Math.max(r.minY,e.y-t.margin.top),r.maxY),r.p3=r.p2.slice(),s(r,1)}}function c(e,t){return Math.sqrt(e*e+t*t)}Math.PI,Math.PI;var h=function(e){var t=e;return e>Math.PI?(t=e-1.5*Math.PI,t=e-1.5*Math.PI):(t=e-.5*Math.PI,t=e-.5*Math.PI),-t};function f(){var e=Object.getOwnPropertyNames(n),r=t.data;function a(e,t){var r=n[t],a=function(e){var t=h(e.startAngle),n=h(e.endAngle);if(t>n){var r=t;t=n,n=r}return function(e){return e>=t&&e<=n}}(r),i=r.dims.left,o=r.dims.right,s=u[i],l=u[o],d=n.width(t),f=s(e[i])-l(e[o]),m=c(d,f);return a(Math.asin(f/m))}return 0===(e=e.filter((function(e){return!isNaN(e)}))).length?r:r.filter((function(n){switch(C.predicate){case"AND":return e.every((function(e){return a(n,e)}));case"OR":return e.some((function(e){return a(n,e)}));default:throw"Unknown brush predicate "+t.brushPredicate}}))}function m(){var e=n[n.active],t=r.selection.select("svg").select("g#arcs");delete n[n.active],n.active=void 0,t.selectAll("line#arc-"+e.dims.i).remove(),t.selectAll("circle#arc-"+e.dims.i).remove(),t.selectAll("path#arc-"+e.dims.i).remove()}function p(){return function(){var e=t.data,i=n[n.active];if(i&&i.p1[0]===i.p2[0]&&i.p1[1]===i.p2[1]&&m(),i){var o=n.startAngle(n.active);i.startAngle=o,i.endAngle=o,i.arc.outerRadius(n.length(n.active)).startAngle(o).endAngle(o)}e=f(),n.active=void 0,t.brushed=e,r.renderBrushed(),a.brushend.call(r,t.brushed)}}C.modes.angular={install:function(){var a=d3.behavior.drag();n.active=void 0,n.width=function(e){var t=n[e];if(void 0!==t)return t.maxX-t.minX},angle=function(e,t){var n=e[0]-t[0],r=e[1]-t[1],a=c(n,r);return Math.asin(r/a)},n.endAngle=function(e){var t=n[e];if(void 0!==t){var r=-angle(t.p1,t.p2)+Math.PI/2;return t.p1[0]>t.p2[0]&&(r=2*Math.PI-r),r}},n.startAngle=function(e){var t=n[e];if(void 0!==t){var r=-angle(t.p1,t.p3)+Math.PI/2;return t.p1[0]>t.p3[0]&&(r=2*Math.PI-r),r}},n.length=function(e){var t=n[e];if(void 0!==t)return c(t.p1[0]-t.p2[0],t.p1[1]-t.p2[1])},r.on("axesreorder.arcs",(function(){var e=Object.getOwnPropertyNames(n).filter((function(e){return!isNaN(e)}));e.length>0&&(e.forEach((function(e){var r,a,i,o=n[e].dims;n.active=e,r=o.left,a=o.right,i=t.dimensions.length,t.dimensions.some((function(e,n){return e===r&&n+n<i&&t.dimensions[n+1]===a}))||m()})),p()())})),r.selection.select("svg").append("g").attr("id","arcs").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),r.brushReset=function(e){return function(){Object.getOwnPropertyNames(e).filter((function(e){return!isNaN(e)})).forEach((function(t){e.active=t,m()})),p()()}}(n),a.on("dragstart",(function(){var r,a,i=d3.mouse(e[0][0]);i[0]=i[0]-t.margin.left,i[1]=i[1]-t.margin.top,r=function(e){var n={i:-1,left:void 0,right:void 0};return t.dimensions.some((function(r,a){if(l(r)<e[0]){var i=t.dimensions[a+1];return n.i=a,n.left=r,n.right=i,!1}return!0})),void 0===n.left?(n.i=0,n.left=t.dimensions[0],n.right=t.dimensions[1]):void 0===n.right&&(n.i=t.dimensions.length-1,n.right=n.left,n.left=t.dimensions[t.dimensions.length-2]),n}(i),a={p1:i,dims:r,minX:l(r.left),maxX:l(r.right),minY:0,maxY:o(),startAngle:void 0,endAngle:void 0,arc:d3.svg.arc().innerRadius(0)},n[r.i]=a,n.active=r.i,a.p1[0]=Math.min(Math.max(a.minX,i[0]),a.maxX),a.p2=a.p1.slice(),a.p3=a.p1.slice()})).on("drag",d()).on("dragend",p()),e=r.selection.select("svg").insert("rect","g#arcs").attr("id","arc-events").attr("x",t.margin.left).attr("y",t.margin.top).attr("width",i()).attr("height",o()+2).style("opacity",0).call(a)},uninstall:function(){r.selection.select("svg").select("g#arcs").remove(),r.selection.select("svg").select("rect#arc-events").remove(),r.on("axesreorder.arcs",void 0),delete r.brushReset,e=void 0},selected:f,brushState:function(){return n}}}(),r.interactive=function(){return s.interactive=!0,this},r.xscale=l,r.yscale=u,r.ctx=h,r.canvas=f,r.g=function(){return n},r.resize=function(){return r.selection.select("svg").attr("width",t.width).attr("height",t.height),r.svg.attr("transform","translate("+t.margin.left+","+t.margin.top+")"),s.brushable&&r.brushReset(),r.autoscale(),n&&r.createAxes(),s.brushable&&r.brushable(),s.reorderable&&r.reorderable(),a.resize.call(this,{width:t.width,height:t.height,margin:t.margin}),this},r.highlight=function(e){return 0===arguments.length?t.highlighted:(t.highlighted=e,r.clear("highlight"),d3.selectAll([f.foreground,f.brushed]).classed("faded",!0),e.forEach(M),a.highlight.call(this,e),this)},r.unhighlight=function(){return t.highlighted=[],r.clear("highlight"),d3.selectAll([f.foreground,f.brushed]).classed("faded",!1),this},r.intersection=function(e,t,n,r){return{x:((e.x*t.y-e.y*t.x)*(n.x-r.x)-(e.x-t.x)*(n.x*r.y-n.y*r.x))/((e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x)),y:((e.x*t.y-e.y*t.x)*(n.y-r.y)-(e.y-t.y)*(n.x*r.y-n.y*r.x))/((e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x))}},r.version="0.7.0",r.toString=function(){return"Parallel Coordinates: "+t.dimensions.length+" dimensions ("+d3.keys(t.data[0]).length+" total) , "+t.data.length+" rows"},r},i=a;var o,s;d3.renderQueue=function(e){var t=[],n=10,r=function(){},a=0,i=function(e){e&&i.data(e),i.invalidate(),r(),i.render()};return i.render=function(){a=0;var r=!0;i.invalidate=function(){r=!1},d3.timer((function(){if(!r)return!0;if(a>t.length)return!0;for(var i=Math.min(a+n,t.length),o=a;o<i;o+=1)e(t[o],o);a+=n}))},i.data=function(e){return i.invalidate(),t=e.slice(0),i},i.rate=function(e){return arguments.length?(n=e,i):n},i.remaining=function(){return t.length-a},i.clear=function(e){return arguments.length?(r=e,i):(r(),i)},i.invalidate=function(){},i},(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(a,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/vendor/parcoords/d3.parcoords.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},724468:(e,t,n)=>{var r;n.d(t,{Z:()=>i}),e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=function(e){var t=[],n=function(e){0==t.length&&(t=d3.keys(e.data()[0][0])),e.selectAll(".header").data([!0]).enter().append("div").attr("class","header");var r=e.select(".header").selectAll(".cell").data(t);r.enter().append("div").attr("class",(function(e,t){return"col-"+t})).classed("cell",!0),e.selectAll(".header .cell").text((function(e){return e})),r.exit().remove();var a=e.selectAll(".row").data((function(e){return e}));a.enter().append("div").attr("class","row"),a.exit().remove();var i=e.selectAll(".row").selectAll(".cell").data((function(e){return t.map((function(t){return e[t]}))}));return i.enter().append("div").attr("class",(function(e,t){return"col-"+t})).classed("cell",!0),i.exit().remove(),e.selectAll(".cell").text((function(e){return e})),n};return n.columns=function(e){return arguments.length?(t=e,this):t},n},i=a;var o,s;(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(a,"default","/Users/chenming/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/vendor/parcoords/divgrid.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},943323:(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>reactify});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(667294),_emotion_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(211965),enterModule;module=__webpack_require__.hmd(module),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},reactHotLoader,leaveModule;function reactify(renderFn,callbacks){class ReactifiedComponent extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=callbacks&&callbacks.componentWillUnmount&&callbacks.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&renderFn(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,_emotion_react__WEBPACK_IMPORTED_MODULE_1__.tZ)("div",{ref:this.setContainerRef,id:e,className:t})}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}const ReactifiedClass=ReactifiedComponent;return renderFn.displayName&&(ReactifiedClass.displayName=renderFn.displayName),renderFn.propTypes&&(ReactifiedClass.propTypes={...ReactifiedClass.propTypes,...renderFn.propTypes}),renderFn.defaultProps&&(ReactifiedClass.defaultProps=renderFn.defaultProps),ReactifiedComponent}reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(reactify,"reactify","/Users/chenming/superset/superset-frontend/packages/superset-ui-core/src/chart/components/reactify.tsx"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}}]);