"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8464],{708464:(e,t,o)=>{o.r(t),o.d(t,{default:()=>g});var a,l,r,n=o(205872),s=o.n(n),u=o(355786),i=o(310581),d=o(455867),c=o(667294),f=o(104715),p=o(174448),m=o(211965);function g(e){const{data:t,formData:o,height:a,width:l,setDataMask:r,setFocusedFilter:n,unsetFocusedFilter:g,setFilterActive:h,filterState:v,inputRef:b}=e,{defaultValue:G,multiSelect:y}=o,[H,L]=(0,c.useState)(null!=G?G:[]),S=e=>{const t=(0,u.Z)(e);L(t);const o={};t.length&&(o.interactive_groupby=t),r({filterState:{value:t.length?t:null},extraFormData:o})};(0,c.useEffect)((()=>{S(v.value)}),[JSON.stringify(v.value),y]),(0,c.useEffect)((()=>{S(null!=G?G:null)}),[JSON.stringify(G),y]);const F=(0,u.Z)(o.groupby).map(i.Z),w=F[0].length?F[0]:null,M=w?t.filter((e=>w.includes(e.column_name))):t,Z=t?M:[],k=0===Z.length?(0,d.t)("No columns"):(0,d.tn)("%s option","%s options",Z.length,Z.length),x={};v.validateMessage&&(x.extra=(0,m.tZ)(p.Am,{status:v.validateStatus},v.validateMessage));const C=Z.map((e=>{const{column_name:t,verbose_name:o}=e;return{label:null!=o?o:t,value:t}}));return(0,m.tZ)(p.un,{height:a,width:l},(0,m.tZ)(p.jp,s()({validateStatus:v.validateStatus},x),(0,m.tZ)(f.Ph,{allowClear:!0,value:H,placeholder:k,mode:y?"multiple":void 0,onChange:S,onBlur:g,onFocus:n,ref:b,options:C,onDropdownVisibleChange:h})))}e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(g,"useState{[value, setValue](defaultValue ?? [])}\nuseEffect{}\nuseEffect{}"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(g,"PluginFilterGroupBy","/Users/chenming/superset/superset-frontend/src/filters/components/GroupBy/GroupByFilterPlugin.tsx"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},174448:(e,t,o)=>{o.d(t,{un:()=>n,jp:()=>s,Am:()=>u});var a,l=o(751995),r=o(804591);e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=l.iK.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e}px;
`,s=(0,l.iK)(r.Z)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,u=l.iK.div`
  color: ${({theme:e,status:t="error"})=>{var o;return null==(o=e.colors[t])?void 0:o.base}};
`;var i,d;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(n,"FilterPluginStyle","/Users/chenming/superset/superset-frontend/src/filters/components/common.ts"),i.register(s,"StyledFormItem","/Users/chenming/superset/superset-frontend/src/filters/components/common.ts"),i.register(u,"StatusMessage","/Users/chenming/superset/superset-frontend/src/filters/components/common.ts")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}}]);