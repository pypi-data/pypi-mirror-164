"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[1948],{281948:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var o,r,n,l=a(205872),s=a.n(l),i=a(355786),u=a(455867),d=a(667294),c=a(104715),f=a(174448),p=a(211965);function m(e){const{data:t,formData:a,height:o,width:r,setDataMask:n,setFocusedFilter:l,unsetFocusedFilter:m,setFilterActive:g,filterState:h,inputRef:v}=e,{defaultValue:b}=a,[G,L]=(0,d.useState)(null!=b?b:[]),H=(0,d.useMemo)((()=>t.reduce(((e,{duration:t,name:a})=>({...e,[t]:a})),{})),[JSON.stringify(t)]),y=e=>{const t=(0,i.Z)(e),[a]=t,o=a?H[a]:void 0,r={};a&&(r.time_grain_sqla=a),L(t),n({extraFormData:r,filterState:{label:o,value:t.length?t:null}})};(0,d.useEffect)((()=>{y(null!=b?b:[])}),[JSON.stringify(b)]),(0,d.useEffect)((()=>{var e;y(null!=(e=h.value)?e:[])}),[JSON.stringify(h.value)]);const M=0===(t||[]).length?(0,u.t)("No data"):(0,u.tn)("%s option","%s options",t.length,t.length),S={};h.validateMessage&&(S.extra=(0,p.tZ)(f.Am,{status:h.validateStatus},h.validateMessage));const F=(t||[]).map((e=>{const{name:t,duration:a}=e;return{label:t,value:a}}));return(0,p.tZ)(f.un,{height:o,width:r},(0,p.tZ)(f.jp,s()({validateStatus:h.validateStatus},S),(0,p.tZ)(c.Ph,{allowClear:!0,value:G,placeholder:M,onChange:y,onMouseEnter:l,onMouseLeave:m,ref:v,options:F,onDropdownVisibleChange:g})))}e=a.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useState{[value, setValue](defaultValue ?? [])}\nuseMemo{durationMap}\nuseEffect{}\nuseEffect{}"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(m,"PluginFilterTimegrain","/Users/chenming/superset/superset-frontend/src/filters/components/TimeGrain/TimeGrainFilterPlugin.tsx"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},174448:(e,t,a)=>{a.d(t,{un:()=>l,jp:()=>s,Am:()=>i});var o,r=a(751995),n=a(804591);e=a.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=r.iK.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e}px;
`,s=(0,r.iK)(n.Z)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,i=r.iK.div`
  color: ${({theme:e,status:t="error"})=>{var a;return null==(a=e.colors[t])?void 0:a.base}};
`;var u,d;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(l,"FilterPluginStyle","/Users/chenming/superset/superset-frontend/src/filters/components/common.ts"),u.register(s,"StyledFormItem","/Users/chenming/superset/superset-frontend/src/filters/components/common.ts"),u.register(i,"StatusMessage","/Users/chenming/superset/superset-frontend/src/filters/components/common.ts")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}}]);