"use strict";// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt GNU-AGPL-3.0-or-later
const elById=t=>document.getElementById(t);let lastLocation=String(window.location);function post(t,o={},e=console.log,n=console.error){fetch(t,{method:"POST",body:JSON.stringify(o),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(i=>i.json()).catch(n).then(e).catch(n)}function get(t,o={},e=console.log,n=console.error){o&&(t+="?"+new URLSearchParams(o).toString()),fetch(t,{method:"GET",headers:{Accept:"application/json"}}).then(i=>i.json()).catch(n).then(e).catch(n)}const PopStateHandlers={replaceURL:t=>{lastLocation===t.origin||window.location.reload()},URLParamChange:()=>window.location.reload()};function setURLParam(t,o,e,n="URLParamChange",i=!0){const r=new URLSearchParams(window.location.search);r.set(t,o);const a=`${window.location.origin}${window.location.pathname}?${r.toString()}`;return e.stateType=n,i&&a!==window.location.href?history.pushState(e,a,a):history.replaceState(e,a,a),lastLocation=window.location.href,a}function scrollToId(){if(window.location.hash==="")return;const t=elById("header");if(!t)return;const o=document.querySelector(window.location.hash);!o||window.scrollBy(0,o.getBoundingClientRect().top-Math.floor(parseFloat(getComputedStyle(t).height)))}setTimeout(scrollToId,4),window.onhashchange=scrollToId,window.onpopstate=t=>{if(lastLocation.split("#")[0]===window.location.href.split("#")[0]){lastLocation=window.location.href,scrollToId();return}if(t.state&&t.state.stateType&&PopStateHandlers[t.state.stateType]){PopStateHandlers[t.state.stateType](t),lastLocation=window.location.href,t.preventDefault(),scrollToId();return}console.error("Couldn't handle state. ",t.state),lastLocation=window.location.href,window.location.reload()};// @license-end
//# sourceMappingURL=utils.js.map
