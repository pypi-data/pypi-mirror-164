{
  "version": 3,
  "sources": ["../../../utils/better_ui.ts"],
  "sourcesContent": ["// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt GNU-AGPL-3.0-or-later\n\"use strict\";\n\n// these functions break if using the CSS-only functionality of the site-pane\nfunction showSitePane() {\n    elById(\"site-pane\").setAttribute(\"open\", \"\");\n}\nfunction hideSitePane() {\n    elById(\"site-pane\").removeAttribute(\"open\");\n}\n\n(() => {\n    const openPane = elById(\"open-pane\");\n    const sitePane = elById(\"site-pane\");\n\n    const belongsToSitePane = (el) => (\n        el === openPane || el === sitePane || sitePane.contains(el)\n    );\n\n    // mouse users\n    openPane.onmouseover = showSitePane;\n    sitePane.onmouseleave = hideSitePane;\n\n    // keyboard users\n    sitePane.onfocusin = showSitePane;\n    sitePane.onfocusout = hideSitePane;\n\n    // phone users\n    openPane.onclick = showSitePane;\n    d.onclick = (e) => belongsToSitePane(e.target) || hideSitePane();\n\n    // swipe gestures (for phone users)\n    const startPos = { x: null, y: null };\n    d.ontouchstart = (e) => {\n        // save start pos of touch\n        startPos.x = e.touches[0].clientX;\n        startPos.y = e.touches[0].clientY;\n    };\n    d.ontouchmove = (e) => {\n        if (startPos.x === null || startPos.y === null) {\n            return;\n        }\n        // calculate difference\n        const diffX = startPos.x - e.touches[0].clientX;\n        const diffY = startPos.y - e.touches[0].clientY;\n\n        // early return if just clicked, not swiped\n        if (diffX === 0 && diffY === 0) {\n            return;\n        }\n\n        // reset start pos\n        startPos.x = null;\n        startPos.y = null;\n\n        const minDiffX = Math.max(12, 0.01 * window.screen.width, diffY * 1.5);\n\n        console.debug({ diffX, minDiffX });\n\n        if (Math.abs(diffX) >= minDiffX) {\n            diffX > 0 ? showSitePane() : hideSitePane();\n        }\n    };\n})();\n// @license-end\n"],
  "mappings": "aAAA;AAIA,SAAS,cAAe,CACpB,OAAO,WAAW,EAAE,aAAa,OAAQ,EAAE,CAC/C,CACA,SAAS,cAAe,CACpB,OAAO,WAAW,EAAE,gBAAgB,MAAM,CAC9C,EAEC,IAAM,CACH,MAAMA,EAAW,OAAO,WAAW,EAC7BC,EAAW,OAAO,WAAW,EAE7BC,EAAqBC,GACvBA,IAAOH,GAAYG,IAAOF,GAAYA,EAAS,SAASE,CAAE,EAI9DH,EAAS,YAAc,aACvBC,EAAS,aAAe,aAGxBA,EAAS,UAAY,aACrBA,EAAS,WAAa,aAGtBD,EAAS,QAAU,aACnB,EAAE,QAAWI,GAAMF,EAAkBE,EAAE,MAAM,GAAK,aAAa,EAG/D,MAAMC,EAAW,CAAE,EAAG,KAAM,EAAG,IAAK,EACpC,EAAE,aAAgBD,GAAM,CAEpBC,EAAS,EAAID,EAAE,QAAQ,GAAG,QAC1BC,EAAS,EAAID,EAAE,QAAQ,GAAG,OAC9B,EACA,EAAE,YAAeA,GAAM,CACnB,GAAIC,EAAS,IAAM,MAAQA,EAAS,IAAM,KACtC,OAGJ,MAAMC,EAAQD,EAAS,EAAID,EAAE,QAAQ,GAAG,QAClCG,EAAQF,EAAS,EAAID,EAAE,QAAQ,GAAG,QAGxC,GAAIE,IAAU,GAAKC,IAAU,EACzB,OAIJF,EAAS,EAAI,KACbA,EAAS,EAAI,KAEb,MAAMG,EAAW,KAAK,IAAI,GAAI,IAAO,OAAO,OAAO,MAAOD,EAAQ,GAAG,EAErE,QAAQ,MAAM,CAAE,MAAAD,EAAO,SAAAE,CAAS,CAAC,EAE7B,KAAK,IAAIF,CAAK,GAAKE,IACnBF,EAAQ,EAAI,aAAa,EAAI,aAAa,EAElD,CACJ,GAAG,EACH;",
  "names": ["openPane", "sitePane", "belongsToSitePane", "el", "e", "startPos", "diffX", "diffY", "minDiffX"]
}
